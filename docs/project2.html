<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.3.433">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>Pedro Gasparine Dubiela - Projeto: Previsão de Rotatividade de Clientes Bancários</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="site_libs/quarto-nav/quarto-nav.js"></script>
<script src="site_libs/clipboard/clipboard.min.js"></script>
<script src="site_libs/quarto-html/quarto.js"></script>
<script src="site_libs/quarto-html/popper.min.js"></script>
<script src="site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="site_libs/quarto-html/anchor.min.js"></script>
<link href="site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="site_libs/bootstrap/bootstrap.min.js"></script>
<link href="site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" integrity="sha512-c3Nl8+7g4LMSTdrm621y7kf9v3SDPnhxLNhcjFJbKECVnmZHTdo+IRO05sNLTH/D3vA6u1X32ehoLC7WFVdheg==" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.5.1/jquery.min.js" integrity="sha512-bLT0Qm9VnAYZDflyKcBaQ2gg0hSYNQrJ8RilYldYQ1FxQYoCLtUjuuRuZo+fjqhx/qtq/1itJ0C2ejDxltZVFg==" crossorigin="anonymous"></script>
<script type="application/javascript">define('jquery', [],function() {return window.jQuery;})</script>


<link rel="stylesheet" href="styles.css">
</head>

<body class="nav-sidebar docked nav-fixed">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg navbar-dark ">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container">
    <a class="navbar-brand" href="./index.html">
    <span class="navbar-title">Pedro Gasparine Dubiela</span>
    </a>
  </div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll me-auto">
  <li class="nav-item">
    <a class="nav-link" href="./index.html" rel="" target="">
 <span class="menu-text">Home</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link active" href="./projects.html" rel="" target="" aria-current="page">
 <span class="menu-text">Projetos</span></a>
  </li>  
</ul>
            <ul class="navbar-nav navbar-nav-scroll ms-auto">
  <li class="nav-item compact">
    <a class="nav-link" href="https://github.com/pedroDubiela95" rel="" target=""><i class="bi bi-github" role="img">
</i> 
 <span class="menu-text"></span></a>
  </li>  
  <li class="nav-item compact">
    <a class="nav-link" href="https://www.linkedin.com/in/pedro-gasparine-dubiela-478430147/" rel="" target=""><i class="bi bi-linkedin" role="img">
</i> 
 <span class="menu-text"></span></a>
  </li>  
</ul>
            <div class="quarto-navbar-tools">
</div>
          </div> <!-- /navcollapse -->
      </div> <!-- /container-fluid -->
    </nav>
  <nav class="quarto-secondary-nav">
    <div class="container-fluid d-flex">
      <button type="button" class="quarto-btn-toggle btn" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar,#quarto-sidebar-glass" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
        <i class="bi bi-layout-text-sidebar-reverse"></i>
      </button>
      <nav class="quarto-page-breadcrumbs" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="./project2.html">Projeto: Previsão de Rotatividade de Clientes Bancários</a></li></ol></nav>
      <a class="flex-grow-1" role="button" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar,#quarto-sidebar-glass" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">      
      </a>
    </div>
  </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse collapse-horizontal sidebar-navigation docked overflow-auto">
    <div class="sidebar-menu-container"> 
    <ul class="list-unstyled mt-1">
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./projects.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Projetos</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./project1.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Projeto: Aplicação de LLM - ChatGPT em Contexto Específico</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./project2.html" class="sidebar-item-text sidebar-link active">
 <span class="menu-text">Projeto: Previsão de Rotatividade de Clientes Bancários</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./project3.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Projeto: Similarity Search no contexto de Processamento de Linguagem Natural (LLM)</span></a>
  </div>
</li>
    </ul>
    </div>
</nav>
<div id="quarto-sidebar-glass" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar,#quarto-sidebar-glass"></div>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">On this page</h2>
   
  <ul>
  <li><a href="#introdução" id="toc-introdução" class="nav-link active" data-scroll-target="#introdução">Introdução</a></li>
  <li><a href="#problema-de-negócio" id="toc-problema-de-negócio" class="nav-link" data-scroll-target="#problema-de-negócio">Problema de Negócio</a></li>
  <li><a href="#resolução-do-problema" id="toc-resolução-do-problema" class="nav-link" data-scroll-target="#resolução-do-problema">Resolução do Problema</a>
  <ul class="collapse">
  <li><a href="#análise-exploratória-dos-dados-eda" id="toc-análise-exploratória-dos-dados-eda" class="nav-link" data-scroll-target="#análise-exploratória-dos-dados-eda">Análise Exploratória dos Dados (EDA)</a>
  <ul class="collapse">
  <li><a href="#churn" id="toc-churn" class="nav-link" data-scroll-target="#churn">Churn</a></li>
  <li><a href="#country" id="toc-country" class="nav-link" data-scroll-target="#country">Country</a></li>
  <li><a href="#gender" id="toc-gender" class="nav-link" data-scroll-target="#gender">Gender</a></li>
  <li><a href="#credit-card" id="toc-credit-card" class="nav-link" data-scroll-target="#credit-card">Credit Card</a></li>
  <li><a href="#active-member" id="toc-active-member" class="nav-link" data-scroll-target="#active-member">Active Member</a></li>
  <li><a href="#products-number" id="toc-products-number" class="nav-link" data-scroll-target="#products-number">Products Number</a></li>
  <li><a href="#tenure" id="toc-tenure" class="nav-link" data-scroll-target="#tenure">Tenure</a></li>
  <li><a href="#credit-score" id="toc-credit-score" class="nav-link" data-scroll-target="#credit-score">Credit Score</a></li>
  <li><a href="#age" id="toc-age" class="nav-link" data-scroll-target="#age">Age</a></li>
  <li><a href="#balance" id="toc-balance" class="nav-link" data-scroll-target="#balance">Balance</a></li>
  <li><a href="#estimated-salary" id="toc-estimated-salary" class="nav-link" data-scroll-target="#estimated-salary">Estimated Salary</a></li>
  </ul></li>
  <li><a href="#análise-bivariada-dos-dados" id="toc-análise-bivariada-dos-dados" class="nav-link" data-scroll-target="#análise-bivariada-dos-dados">Análise Bivariada dos Dados</a>
  <ul class="collapse">
  <li><a href="#age-1" id="toc-age-1" class="nav-link" data-scroll-target="#age-1">Age</a></li>
  <li><a href="#products-number-1" id="toc-products-number-1" class="nav-link" data-scroll-target="#products-number-1">Products Number</a></li>
  <li><a href="#country-1" id="toc-country-1" class="nav-link" data-scroll-target="#country-1">Country</a></li>
  <li><a href="#active-member-1" id="toc-active-member-1" class="nav-link" data-scroll-target="#active-member-1">Active Member</a></li>
  <li><a href="#balance-1" id="toc-balance-1" class="nav-link" data-scroll-target="#balance-1">Balance</a></li>
  <li><a href="#gender-1" id="toc-gender-1" class="nav-link" data-scroll-target="#gender-1">Gender</a></li>
  <li><a href="#credit-score-1" id="toc-credit-score-1" class="nav-link" data-scroll-target="#credit-score-1">Credit Score</a></li>
  <li><a href="#tenure-1" id="toc-tenure-1" class="nav-link" data-scroll-target="#tenure-1">Tenure</a></li>
  <li><a href="#estimated-salary-1" id="toc-estimated-salary-1" class="nav-link" data-scroll-target="#estimated-salary-1">Estimated Salary</a></li>
  <li><a href="#credit-card-1" id="toc-credit-card-1" class="nav-link" data-scroll-target="#credit-card-1">Credit Card</a></li>
  </ul></li>
  <li><a href="#o-modelo-preditivo" id="toc-o-modelo-preditivo" class="nav-link" data-scroll-target="#o-modelo-preditivo">O Modelo Preditivo</a></li>
  </ul></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">Projeto: Previsão de Rotatividade de Clientes Bancários</h1>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  

</header>

<section id="introdução" class="level1">
<h1>Introdução</h1>
<p>
O problema de <strong>churn</strong>, ou rotatividade de clientes, representa um desafio significativo para instituições bancárias. Refere-se à taxa na qual os clientes encerram seus relacionamentos com o banco, migrando para outras instituições financeiras ou até mesmo abandonando serviços financeiros. Este fenômeno pode ser impulsionado por diversos fatores, como insatisfação com serviços, concorrência acirrada, mudanças nas condições econômicas e até mesmo avanços tecnológicos.
</p>
<p>
Dessa forma, a retenção de clientes torna-se uma prioridade estratégica para os bancos, que buscam constantemente inovar, oferecer experiências mais atrativas e personalizadas, a fim de mitigar o churn e manter uma base sólida de clientes leais.
</p>
<p>
Diante desse cenário, torna-se de extrema valia a capacidade de identificar os clientes mais propensos ao churn, possibilitando que a instituição financeira aja de maneira antecipada, oferecendo planos e serviços atrativos que impeçam a fuga do cliente.
</p>
</section>
<section id="problema-de-negócio" class="level1">
<h1>Problema de Negócio</h1>
<p>Temos uma base de dados do ABC Multistate Bank, a qual está hospedada em <a href="https://www.kaggle.com/datasets/gauravtopre/bank-customer-churn-dataset/data" class="uri">https://www.kaggle.com/datasets/gauravtopre/bank-customer-churn-dataset/data</a>. Essa base de dados contém informações anonimizadas de 10.000 clientes, onde o problema de negócio em questão resume-se a construirmos um modelo capaz de predizer a ocorrência ou não de churn para um dado cliente, com base nas informações disponíveis.</p>
</section>
<section id="resolução-do-problema" class="level1">
<h1>Resolução do Problema</h1>
<section id="análise-exploratória-dos-dados-eda" class="level2">
<h2 class="anchored" data-anchor-id="análise-exploratória-dos-dados-eda">Análise Exploratória dos Dados (EDA)</h2>
<p>
O objetivo desta etapa é investigar e entender os dados disponíveis, a fim de extrair informações preliminares, identificar padrões, tendências, anomalias e insights relevantes.
</p>
<p>
</p><p>Verificaremos que, ao término dessa análise, todas as variáveis apresentam comportamento adequado para prosseguirem no estudo, pois:</p>
<ul>
<li>Não possuem valores faltantes.</li>
<li>Não têm valores inesperados.</li>
<li>Não exibem alta concentração em um único valor.</li>
</ul>
<p></p>
<hr>
<section id="churn" class="level3">
<h3 class="anchored" data-anchor-id="churn">Churn</h3>
<p>Essa variável denota a ocorrência ou não do evento de churn.</p>
<ul>
<li>Não ocorrência de churn = 0</li>
<li>Ocorrência de churn = 1</li>
</ul>
<strong>Avaliação</strong>: <span style="color: green;"> OK. </span>
<ul>
<li>
Variável target (binária).
</li>
<li>
Temos 20% de ocorrência do evento.
</li>
<li>
Temos 80% de não ocorrência do evento.
</li>
</ul>
<div class="cell" data-execution_count="3">
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a>create_table_categorical(<span class="st">"churn"</span>, df)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="3">
<style type="text/css">
#T_93a33 th:not(.index_name) {
  background-color: #001820;
  color: white;
}
</style>

<table id="T_93a33" data-quarto-postprocess="true" class="table table-sm table-striped small">
<thead>
<tr class="header">
<th class="blank level0" data-quarto-table-cell-role="th">&nbsp;</th>
<th id="T_93a33_level0_col0" class="col_heading level0 col0" data-quarto-table-cell-role="th">Class</th>
<th id="T_93a33_level0_col1" class="col_heading level0 col1" data-quarto-table-cell-role="th">Abs. Freq.</th>
<th id="T_93a33_level0_col2" class="col_heading level0 col2" data-quarto-table-cell-role="th">Acc. Abs. Freq.</th>
<th id="T_93a33_level0_col3" class="col_heading level0 col3" data-quarto-table-cell-role="th">Rel. Freq.</th>
<th id="T_93a33_level0_col4" class="col_heading level0 col4" data-quarto-table-cell-role="th">Acc. Rel. Freq.</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td id="T_93a33_level0_row0" class="row_heading level0 row0" data-quarto-table-cell-role="th"></td>
<td id="T_93a33_row0_col0" class="data row0 col0">0</td>
<td id="T_93a33_row0_col1" class="data row0 col1">7963</td>
<td id="T_93a33_row0_col2" class="data row0 col2">7963</td>
<td id="T_93a33_row0_col3" class="data row0 col3">0.80</td>
<td id="T_93a33_row0_col4" class="data row0 col4">0.80</td>
</tr>
<tr class="even">
<td id="T_93a33_level0_row1" class="row_heading level0 row1" data-quarto-table-cell-role="th"></td>
<td id="T_93a33_row1_col0" class="data row1 col0">1</td>
<td id="T_93a33_row1_col1" class="data row1 col1">2037</td>
<td id="T_93a33_row1_col2" class="data row1 col2">10000</td>
<td id="T_93a33_row1_col3" class="data row1 col3">0.20</td>
<td id="T_93a33_row1_col4" class="data row1 col4">1.00</td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="cell" data-execution_count="4">
<div class="sourceCode cell-code" id="cb2"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a>create_graph_categorical(<span class="st">"churn"</span>, df)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="project2_files/figure-html/cell-5-output-1.png" width="793" height="252" class="figure-img"></p>
</figure>
</div>
</div>
</div>
<hr>
</section>
<section id="country" class="level3">
<h3 class="anchored" data-anchor-id="country">Country</h3>
<p>País do cliente.</p>
<strong>Avaliação</strong>: <span style="color: green;"> OK. </span>
<ul>
<li>
Variável categórica.
</li>
<li>
Não possui nenhum valor faltante.
</li>
<li>
França representa 50%.
</li>
<li>
Alemanha e Espanha representam 25% cada.
</li>
</ul>
<div class="cell" data-execution_count="5">
<div class="sourceCode cell-code" id="cb3"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a>create_table_categorical(<span class="st">"country"</span>, df)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="5">
<style type="text/css">
#T_ef6d3 th:not(.index_name) {
  background-color: #001820;
  color: white;
}
</style>

<table id="T_ef6d3" data-quarto-postprocess="true" class="table table-sm table-striped small">
<thead>
<tr class="header">
<th class="blank level0" data-quarto-table-cell-role="th">&nbsp;</th>
<th id="T_ef6d3_level0_col0" class="col_heading level0 col0" data-quarto-table-cell-role="th">Class</th>
<th id="T_ef6d3_level0_col1" class="col_heading level0 col1" data-quarto-table-cell-role="th">Abs. Freq.</th>
<th id="T_ef6d3_level0_col2" class="col_heading level0 col2" data-quarto-table-cell-role="th">Acc. Abs. Freq.</th>
<th id="T_ef6d3_level0_col3" class="col_heading level0 col3" data-quarto-table-cell-role="th">Rel. Freq.</th>
<th id="T_ef6d3_level0_col4" class="col_heading level0 col4" data-quarto-table-cell-role="th">Acc. Rel. Freq.</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td id="T_ef6d3_level0_row0" class="row_heading level0 row0" data-quarto-table-cell-role="th"></td>
<td id="T_ef6d3_row0_col0" class="data row0 col0">France</td>
<td id="T_ef6d3_row0_col1" class="data row0 col1">5014</td>
<td id="T_ef6d3_row0_col2" class="data row0 col2">5014</td>
<td id="T_ef6d3_row0_col3" class="data row0 col3">0.50</td>
<td id="T_ef6d3_row0_col4" class="data row0 col4">0.50</td>
</tr>
<tr class="even">
<td id="T_ef6d3_level0_row1" class="row_heading level0 row1" data-quarto-table-cell-role="th"></td>
<td id="T_ef6d3_row1_col0" class="data row1 col0">Germany</td>
<td id="T_ef6d3_row1_col1" class="data row1 col1">2509</td>
<td id="T_ef6d3_row1_col2" class="data row1 col2">7523</td>
<td id="T_ef6d3_row1_col3" class="data row1 col3">0.25</td>
<td id="T_ef6d3_row1_col4" class="data row1 col4">0.75</td>
</tr>
<tr class="odd">
<td id="T_ef6d3_level0_row2" class="row_heading level0 row2" data-quarto-table-cell-role="th"></td>
<td id="T_ef6d3_row2_col0" class="data row2 col0">Spain</td>
<td id="T_ef6d3_row2_col1" class="data row2 col1">2477</td>
<td id="T_ef6d3_row2_col2" class="data row2 col2">10000</td>
<td id="T_ef6d3_row2_col3" class="data row2 col3">0.25</td>
<td id="T_ef6d3_row2_col4" class="data row2 col4">1.00</td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="cell" data-execution_count="6">
<div class="sourceCode cell-code" id="cb4"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a>create_graph_categorical(<span class="st">"country"</span>, df)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="project2_files/figure-html/cell-7-output-1.png" width="793" height="252" class="figure-img"></p>
</figure>
</div>
</div>
</div>
<hr>
</section>
<section id="gender" class="level3">
<h3 class="anchored" data-anchor-id="gender">Gender</h3>
<p>Gênero do cliente.</p>
<strong>Avaliação</strong>: <span style="color: green;"> OK. </span>
<ul>
<li>
Variável categórica.
</li>
<li>
Não possui nenhum valor faltante.
</li>
<li>
55% Homens.
</li>
<li>
45% Mulheres.
</li>
</ul>
<div class="cell" data-execution_count="7">
<div class="sourceCode cell-code" id="cb5"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a>create_table_categorical(<span class="st">"gender"</span>, df)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="7">
<style type="text/css">
#T_69200 th:not(.index_name) {
  background-color: #001820;
  color: white;
}
</style>

<table id="T_69200" data-quarto-postprocess="true" class="table table-sm table-striped small">
<thead>
<tr class="header">
<th class="blank level0" data-quarto-table-cell-role="th">&nbsp;</th>
<th id="T_69200_level0_col0" class="col_heading level0 col0" data-quarto-table-cell-role="th">Class</th>
<th id="T_69200_level0_col1" class="col_heading level0 col1" data-quarto-table-cell-role="th">Abs. Freq.</th>
<th id="T_69200_level0_col2" class="col_heading level0 col2" data-quarto-table-cell-role="th">Acc. Abs. Freq.</th>
<th id="T_69200_level0_col3" class="col_heading level0 col3" data-quarto-table-cell-role="th">Rel. Freq.</th>
<th id="T_69200_level0_col4" class="col_heading level0 col4" data-quarto-table-cell-role="th">Acc. Rel. Freq.</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td id="T_69200_level0_row0" class="row_heading level0 row0" data-quarto-table-cell-role="th"></td>
<td id="T_69200_row0_col0" class="data row0 col0">Female</td>
<td id="T_69200_row0_col1" class="data row0 col1">4543</td>
<td id="T_69200_row0_col2" class="data row0 col2">4543</td>
<td id="T_69200_row0_col3" class="data row0 col3">0.45</td>
<td id="T_69200_row0_col4" class="data row0 col4">0.45</td>
</tr>
<tr class="even">
<td id="T_69200_level0_row1" class="row_heading level0 row1" data-quarto-table-cell-role="th"></td>
<td id="T_69200_row1_col0" class="data row1 col0">Male</td>
<td id="T_69200_row1_col1" class="data row1 col1">5457</td>
<td id="T_69200_row1_col2" class="data row1 col2">10000</td>
<td id="T_69200_row1_col3" class="data row1 col3">0.55</td>
<td id="T_69200_row1_col4" class="data row1 col4">1.00</td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="cell" data-execution_count="8">
<div class="sourceCode cell-code" id="cb6"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a>create_graph_categorical(<span class="st">"gender"</span>, df)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="project2_files/figure-html/cell-9-output-1.png" width="793" height="252" class="figure-img"></p>
</figure>
</div>
</div>
</div>
<hr>
</section>
<section id="credit-card" class="level3">
<h3 class="anchored" data-anchor-id="credit-card">Credit Card</h3>
<p>Se o cliente utiliza cartão de crédito.</p>
<ul>
<li>Não utiliza cartão de crédito = 0</li>
<li>Utiliza cartão de crédito = 1</li>
</ul>
<strong>Avaliação</strong>: <span style="color: green;"> OK. </span>
<ul>
<li>
Variável categórica.
</li>
<li>
Não possui nenhum valor faltante.
</li>
<li>
71% utiliza cartão de cŕedito.
</li>
<li>
29% não utiliza.
</li>
</ul>
<div class="cell" data-execution_count="9">
<div class="sourceCode cell-code" id="cb7"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a>create_table_categorical(<span class="st">"credit_card"</span>, df)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="9">
<style type="text/css">
#T_4ce60 th:not(.index_name) {
  background-color: #001820;
  color: white;
}
</style>

<table id="T_4ce60" data-quarto-postprocess="true" class="table table-sm table-striped small">
<thead>
<tr class="header">
<th class="blank level0" data-quarto-table-cell-role="th">&nbsp;</th>
<th id="T_4ce60_level0_col0" class="col_heading level0 col0" data-quarto-table-cell-role="th">Class</th>
<th id="T_4ce60_level0_col1" class="col_heading level0 col1" data-quarto-table-cell-role="th">Abs. Freq.</th>
<th id="T_4ce60_level0_col2" class="col_heading level0 col2" data-quarto-table-cell-role="th">Acc. Abs. Freq.</th>
<th id="T_4ce60_level0_col3" class="col_heading level0 col3" data-quarto-table-cell-role="th">Rel. Freq.</th>
<th id="T_4ce60_level0_col4" class="col_heading level0 col4" data-quarto-table-cell-role="th">Acc. Rel. Freq.</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td id="T_4ce60_level0_row0" class="row_heading level0 row0" data-quarto-table-cell-role="th"></td>
<td id="T_4ce60_row0_col0" class="data row0 col0">0</td>
<td id="T_4ce60_row0_col1" class="data row0 col1">2945</td>
<td id="T_4ce60_row0_col2" class="data row0 col2">2945</td>
<td id="T_4ce60_row0_col3" class="data row0 col3">0.29</td>
<td id="T_4ce60_row0_col4" class="data row0 col4">0.29</td>
</tr>
<tr class="even">
<td id="T_4ce60_level0_row1" class="row_heading level0 row1" data-quarto-table-cell-role="th"></td>
<td id="T_4ce60_row1_col0" class="data row1 col0">1</td>
<td id="T_4ce60_row1_col1" class="data row1 col1">7055</td>
<td id="T_4ce60_row1_col2" class="data row1 col2">10000</td>
<td id="T_4ce60_row1_col3" class="data row1 col3">0.71</td>
<td id="T_4ce60_row1_col4" class="data row1 col4">1.00</td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="cell" data-execution_count="10">
<div class="sourceCode cell-code" id="cb8"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a>create_graph_categorical(<span class="st">"credit_card"</span>, df)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="project2_files/figure-html/cell-11-output-1.png" width="793" height="252" class="figure-img"></p>
</figure>
</div>
</div>
</div>
<hr>
</section>
<section id="active-member" class="level3">
<h3 class="anchored" data-anchor-id="active-member">Active Member</h3>
<p>Denota se um cliente está envolvido e participando ativamente das atividades e serviços oferecidos pelo banco.</p>
<ul>
<li>Não ativo = 0</li>
<li>Ativo = 1</li>
</ul>
<strong>Avaliação</strong>: <span style="color: green;"> OK. </span>
<ul>
<li>
Variável categórica.
</li>
<li>
Não possui nenhum valor faltante.
</li>
<li>
Praticamente metade dos clientes são ativos e a outra metade é inativo.
</li>
</ul>
<div class="cell" data-execution_count="11">
<div class="sourceCode cell-code" id="cb9"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a>create_table_categorical(<span class="st">"active_member"</span>, df)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="11">
<style type="text/css">
#T_4ff27 th:not(.index_name) {
  background-color: #001820;
  color: white;
}
</style>

<table id="T_4ff27" data-quarto-postprocess="true" class="table table-sm table-striped small">
<thead>
<tr class="header">
<th class="blank level0" data-quarto-table-cell-role="th">&nbsp;</th>
<th id="T_4ff27_level0_col0" class="col_heading level0 col0" data-quarto-table-cell-role="th">Class</th>
<th id="T_4ff27_level0_col1" class="col_heading level0 col1" data-quarto-table-cell-role="th">Abs. Freq.</th>
<th id="T_4ff27_level0_col2" class="col_heading level0 col2" data-quarto-table-cell-role="th">Acc. Abs. Freq.</th>
<th id="T_4ff27_level0_col3" class="col_heading level0 col3" data-quarto-table-cell-role="th">Rel. Freq.</th>
<th id="T_4ff27_level0_col4" class="col_heading level0 col4" data-quarto-table-cell-role="th">Acc. Rel. Freq.</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td id="T_4ff27_level0_row0" class="row_heading level0 row0" data-quarto-table-cell-role="th"></td>
<td id="T_4ff27_row0_col0" class="data row0 col0">0</td>
<td id="T_4ff27_row0_col1" class="data row0 col1">4849</td>
<td id="T_4ff27_row0_col2" class="data row0 col2">4849</td>
<td id="T_4ff27_row0_col3" class="data row0 col3">0.48</td>
<td id="T_4ff27_row0_col4" class="data row0 col4">0.48</td>
</tr>
<tr class="even">
<td id="T_4ff27_level0_row1" class="row_heading level0 row1" data-quarto-table-cell-role="th"></td>
<td id="T_4ff27_row1_col0" class="data row1 col0">1</td>
<td id="T_4ff27_row1_col1" class="data row1 col1">5151</td>
<td id="T_4ff27_row1_col2" class="data row1 col2">10000</td>
<td id="T_4ff27_row1_col3" class="data row1 col3">0.52</td>
<td id="T_4ff27_row1_col4" class="data row1 col4">1.00</td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="cell" data-execution_count="12">
<div class="sourceCode cell-code" id="cb10"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a>create_graph_categorical(<span class="st">"active_member"</span>, df)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="project2_files/figure-html/cell-13-output-1.png" width="793" height="252" class="figure-img"></p>
</figure>
</div>
</div>
</div>
<hr>
</section>
<section id="products-number" class="level3">
<h3 class="anchored" data-anchor-id="products-number">Products Number</h3>
<p>Número de produtos adiquiridos pelo cliente.</p>
<strong>Avaliação</strong>: <span style="color: green;"> OK. </span>
<ul>
<li>
Variável numérica discreta, mas será visualizada como categórica.
</li>
<li>
Não possui nenhum valor faltante.
</li>
<li>
~50% dos cliente utilizam somente um produto.
</li>
<li>
~46% dos cliente utilizam 2 produtos.
</li>
</ul>
<div class="cell" data-execution_count="13">
<div class="sourceCode cell-code" id="cb11"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a>create_table_categorical(<span class="st">"products_number"</span>, df, [<span class="st">'1'</span>, <span class="st">'2'</span>, <span class="st">'3'</span>, <span class="st">'&gt;=4'</span>])</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="13">
<style type="text/css">
#T_aa61a th:not(.index_name) {
  background-color: #001820;
  color: white;
}
</style>

<table id="T_aa61a" data-quarto-postprocess="true" class="table table-sm table-striped small">
<thead>
<tr class="header">
<th class="blank level0" data-quarto-table-cell-role="th">&nbsp;</th>
<th id="T_aa61a_level0_col0" class="col_heading level0 col0" data-quarto-table-cell-role="th">Class</th>
<th id="T_aa61a_level0_col1" class="col_heading level0 col1" data-quarto-table-cell-role="th">Abs. Freq.</th>
<th id="T_aa61a_level0_col2" class="col_heading level0 col2" data-quarto-table-cell-role="th">Acc. Abs. Freq.</th>
<th id="T_aa61a_level0_col3" class="col_heading level0 col3" data-quarto-table-cell-role="th">Rel. Freq.</th>
<th id="T_aa61a_level0_col4" class="col_heading level0 col4" data-quarto-table-cell-role="th">Acc. Rel. Freq.</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td id="T_aa61a_level0_row0" class="row_heading level0 row0" data-quarto-table-cell-role="th"></td>
<td id="T_aa61a_row0_col0" class="data row0 col0">1</td>
<td id="T_aa61a_row0_col1" class="data row0 col1">5084</td>
<td id="T_aa61a_row0_col2" class="data row0 col2">5084</td>
<td id="T_aa61a_row0_col3" class="data row0 col3">0.51</td>
<td id="T_aa61a_row0_col4" class="data row0 col4">0.51</td>
</tr>
<tr class="even">
<td id="T_aa61a_level0_row1" class="row_heading level0 row1" data-quarto-table-cell-role="th"></td>
<td id="T_aa61a_row1_col0" class="data row1 col0">2</td>
<td id="T_aa61a_row1_col1" class="data row1 col1">4590</td>
<td id="T_aa61a_row1_col2" class="data row1 col2">9674</td>
<td id="T_aa61a_row1_col3" class="data row1 col3">0.46</td>
<td id="T_aa61a_row1_col4" class="data row1 col4">0.97</td>
</tr>
<tr class="odd">
<td id="T_aa61a_level0_row2" class="row_heading level0 row2" data-quarto-table-cell-role="th"></td>
<td id="T_aa61a_row2_col0" class="data row2 col0">3</td>
<td id="T_aa61a_row2_col1" class="data row2 col1">266</td>
<td id="T_aa61a_row2_col2" class="data row2 col2">9940</td>
<td id="T_aa61a_row2_col3" class="data row2 col3">0.03</td>
<td id="T_aa61a_row2_col4" class="data row2 col4">0.99</td>
</tr>
<tr class="even">
<td id="T_aa61a_level0_row3" class="row_heading level0 row3" data-quarto-table-cell-role="th"></td>
<td id="T_aa61a_row3_col0" class="data row3 col0">&gt;=4</td>
<td id="T_aa61a_row3_col1" class="data row3 col1">60</td>
<td id="T_aa61a_row3_col2" class="data row3 col2">10000</td>
<td id="T_aa61a_row3_col3" class="data row3 col3">0.01</td>
<td id="T_aa61a_row3_col4" class="data row3 col4">1.00</td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="cell" data-execution_count="14">
<div class="sourceCode cell-code" id="cb12"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb12-1"><a href="#cb12-1" aria-hidden="true" tabindex="-1"></a>create_graph_categorical(<span class="st">"products_number"</span>, df, [<span class="st">'1'</span>, <span class="st">'2'</span>, <span class="st">'3'</span>, <span class="st">'&gt;=4'</span>])</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="project2_files/figure-html/cell-15-output-1.png" width="793" height="252" class="figure-img"></p>
</figure>
</div>
</div>
</div>
<hr>
</section>
<section id="tenure" class="level3">
<h3 class="anchored" data-anchor-id="tenure">Tenure</h3>
<p>Mensura a quantidade de anos decorridos desde que o cliente aderiu aos serviços prestados pelo banco.</p>
<strong>Avaliação</strong>: <span style="color: green;"> OK. </span>
<ul>
<li>
Variável numérica discreta, mas será visualizada como categórica.
</li>
<li>
Não possui nenhum valor faltante.
</li>
<li>
25% de 0 a 2 anos.
</li>
<li>
15% de 8 a 10 anos.
</li>
<li>
As demais classes estão bem distribuídos em torno de 20%.
</li>
</ul>
<div class="cell" data-execution_count="15">
<div class="sourceCode cell-code" id="cb13"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true" tabindex="-1"></a><span class="co">#fazer a mesma ordenção de baixo aqui</span></span>
<span id="cb13-2"><a href="#cb13-2" aria-hidden="true" tabindex="-1"></a>create_table_categorical(<span class="st">"tenure"</span>, df, [<span class="st">'[0, 2]'</span>, <span class="st">'(2, 4]'</span>, <span class="st">'(4, 6]'</span>, <span class="st">'(6, 8]'</span>, <span class="st">'(8, 10]'</span>])</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="15">
<style type="text/css">
#T_3da81 th:not(.index_name) {
  background-color: #001820;
  color: white;
}
</style>

<table id="T_3da81" data-quarto-postprocess="true" class="table table-sm table-striped small">
<thead>
<tr class="header">
<th class="blank level0" data-quarto-table-cell-role="th">&nbsp;</th>
<th id="T_3da81_level0_col0" class="col_heading level0 col0" data-quarto-table-cell-role="th">Class</th>
<th id="T_3da81_level0_col1" class="col_heading level0 col1" data-quarto-table-cell-role="th">Abs. Freq.</th>
<th id="T_3da81_level0_col2" class="col_heading level0 col2" data-quarto-table-cell-role="th">Acc. Abs. Freq.</th>
<th id="T_3da81_level0_col3" class="col_heading level0 col3" data-quarto-table-cell-role="th">Rel. Freq.</th>
<th id="T_3da81_level0_col4" class="col_heading level0 col4" data-quarto-table-cell-role="th">Acc. Rel. Freq.</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td id="T_3da81_level0_row0" class="row_heading level0 row0" data-quarto-table-cell-role="th"></td>
<td id="T_3da81_row0_col0" class="data row0 col0">[0, 2]</td>
<td id="T_3da81_row0_col1" class="data row0 col1">2496</td>
<td id="T_3da81_row0_col2" class="data row0 col2">2496</td>
<td id="T_3da81_row0_col3" class="data row0 col3">0.25</td>
<td id="T_3da81_row0_col4" class="data row0 col4">0.25</td>
</tr>
<tr class="even">
<td id="T_3da81_level0_row1" class="row_heading level0 row1" data-quarto-table-cell-role="th"></td>
<td id="T_3da81_row1_col0" class="data row1 col0">(2, 4]</td>
<td id="T_3da81_row1_col1" class="data row1 col1">1998</td>
<td id="T_3da81_row1_col2" class="data row1 col2">4494</td>
<td id="T_3da81_row1_col3" class="data row1 col3">0.20</td>
<td id="T_3da81_row1_col4" class="data row1 col4">0.45</td>
</tr>
<tr class="odd">
<td id="T_3da81_level0_row2" class="row_heading level0 row2" data-quarto-table-cell-role="th"></td>
<td id="T_3da81_row2_col0" class="data row2 col0">(4, 6]</td>
<td id="T_3da81_row2_col1" class="data row2 col1">1979</td>
<td id="T_3da81_row2_col2" class="data row2 col2">6473</td>
<td id="T_3da81_row2_col3" class="data row2 col3">0.20</td>
<td id="T_3da81_row2_col4" class="data row2 col4">0.65</td>
</tr>
<tr class="even">
<td id="T_3da81_level0_row3" class="row_heading level0 row3" data-quarto-table-cell-role="th"></td>
<td id="T_3da81_row3_col0" class="data row3 col0">(6, 8]</td>
<td id="T_3da81_row3_col1" class="data row3 col1">2053</td>
<td id="T_3da81_row3_col2" class="data row3 col2">8526</td>
<td id="T_3da81_row3_col3" class="data row3 col3">0.21</td>
<td id="T_3da81_row3_col4" class="data row3 col4">0.85</td>
</tr>
<tr class="odd">
<td id="T_3da81_level0_row4" class="row_heading level0 row4" data-quarto-table-cell-role="th"></td>
<td id="T_3da81_row4_col0" class="data row4 col0">(8, 10]</td>
<td id="T_3da81_row4_col1" class="data row4 col1">1474</td>
<td id="T_3da81_row4_col2" class="data row4 col2">10000</td>
<td id="T_3da81_row4_col3" class="data row4 col3">0.15</td>
<td id="T_3da81_row4_col4" class="data row4 col4">1.00</td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="cell" data-execution_count="16">
<div class="sourceCode cell-code" id="cb14"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb14-1"><a href="#cb14-1" aria-hidden="true" tabindex="-1"></a>create_graph_categorical(<span class="st">"tenure"</span>, df, [<span class="st">'[0, 2]'</span>, <span class="st">'(2, 4]'</span>, <span class="st">'(4, 6]'</span>, <span class="st">'(6, 8]'</span>, <span class="st">'(8, 10]'</span>])</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="project2_files/figure-html/cell-17-output-1.png" width="793" height="252" class="figure-img"></p>
</figure>
</div>
</div>
</div>
<hr>
</section>
<section id="credit-score" class="level3">
<h3 class="anchored" data-anchor-id="credit-score">Credit Score</h3>
<p>É uma medida da probabilidade de um indivíduo pagar suas dívidas com base em seu histórico de crédito passado.</p>
<strong>Avaliação</strong>: <span style="color: green;"> OK. </span>
<ul>
<li>
Variável numérica.
</li>
<li>
Não possui nenhum valor faltante.
</li>
<li>
Possui distribuição aproximadamente normal, com média = 650.
</li>
</ul>
<div class="cell" data-execution_count="17">
<div class="sourceCode cell-code" id="cb15"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb15-1"><a href="#cb15-1" aria-hidden="true" tabindex="-1"></a>create_table_numeric_continuous(<span class="st">"credit_score"</span>, df)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="17">
<style type="text/css">
#T_bcbb8 th:not(.index_name) {
  background-color: #001820;
  color: white;
}
</style>

<table id="T_bcbb8" data-quarto-postprocess="true" class="table table-sm table-striped small">
<thead>
<tr class="header">
<th class="blank level0" data-quarto-table-cell-role="th">&nbsp;</th>
<th id="T_bcbb8_level0_col0" class="col_heading level0 col0" data-quarto-table-cell-role="th">SUM</th>
<th id="T_bcbb8_level0_col1" class="col_heading level0 col1" data-quarto-table-cell-role="th">CNT</th>
<th id="T_bcbb8_level0_col2" class="col_heading level0 col2" data-quarto-table-cell-role="th">AVG</th>
<th id="T_bcbb8_level0_col3" class="col_heading level0 col3" data-quarto-table-cell-role="th">STDEV</th>
<th id="T_bcbb8_level0_col4" class="col_heading level0 col4" data-quarto-table-cell-role="th">PERC_zeros</th>
<th id="T_bcbb8_level0_col5" class="col_heading level0 col5" data-quarto-table-cell-role="th">PERC_negatives</th>
<th id="T_bcbb8_level0_col6" class="col_heading level0 col6" data-quarto-table-cell-role="th">MIN</th>
<th id="T_bcbb8_level0_col7" class="col_heading level0 col7" data-quarto-table-cell-role="th">P1</th>
<th id="T_bcbb8_level0_col8" class="col_heading level0 col8" data-quarto-table-cell-role="th">P25</th>
<th id="T_bcbb8_level0_col9" class="col_heading level0 col9" data-quarto-table-cell-role="th">P50</th>
<th id="T_bcbb8_level0_col10" class="col_heading level0 col10" data-quarto-table-cell-role="th">P75</th>
<th id="T_bcbb8_level0_col11" class="col_heading level0 col11" data-quarto-table-cell-role="th">P90</th>
<th id="T_bcbb8_level0_col12" class="col_heading level0 col12" data-quarto-table-cell-role="th">P95</th>
<th id="T_bcbb8_level0_col13" class="col_heading level0 col13" data-quarto-table-cell-role="th">P99</th>
<th id="T_bcbb8_level0_col14" class="col_heading level0 col14" data-quarto-table-cell-role="th">MAX</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td id="T_bcbb8_level0_row0" class="row_heading level0 row0" data-quarto-table-cell-role="th"></td>
<td id="T_bcbb8_row0_col0" class="data row0 col0">6,505,288.00</td>
<td id="T_bcbb8_row0_col1" class="data row0 col1">10000</td>
<td id="T_bcbb8_row0_col2" class="data row0 col2">650.53</td>
<td id="T_bcbb8_row0_col3" class="data row0 col3">96.65</td>
<td id="T_bcbb8_row0_col4" class="data row0 col4">0.00</td>
<td id="T_bcbb8_row0_col5" class="data row0 col5">0.00</td>
<td id="T_bcbb8_row0_col6" class="data row0 col6">350.00</td>
<td id="T_bcbb8_row0_col7" class="data row0 col7">432.00</td>
<td id="T_bcbb8_row0_col8" class="data row0 col8">584.00</td>
<td id="T_bcbb8_row0_col9" class="data row0 col9">652.00</td>
<td id="T_bcbb8_row0_col10" class="data row0 col10">718.00</td>
<td id="T_bcbb8_row0_col11" class="data row0 col11">778.00</td>
<td id="T_bcbb8_row0_col12" class="data row0 col12">812.00</td>
<td id="T_bcbb8_row0_col13" class="data row0 col13">850.00</td>
<td id="T_bcbb8_row0_col14" class="data row0 col14">850.00</td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="cell" data-execution_count="18">
<div class="sourceCode cell-code" id="cb16"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb16-1"><a href="#cb16-1" aria-hidden="true" tabindex="-1"></a>create_graph_numeric_continuous(<span class="st">"credit_score"</span>, df)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="project2_files/figure-html/cell-19-output-1.png" width="793" height="252" class="figure-img"></p>
</figure>
</div>
</div>
</div>
<hr>
</section>
<section id="age" class="level3">
<h3 class="anchored" data-anchor-id="age">Age</h3>
<p>Idade em anos do cliente.</p>
<strong>Avaliação</strong>: <span style="color: green;"> OK. </span>
<ul>
<li>
Variável numérica.
</li>
<li>
Não possui nenhum valor faltante.
</li>
<li>
Possui distribuição assimétrica á direita.
</li>
<li>
Cliente mais novo tem 18 anos.
</li>
<li>
Cliente mais velho tem 92 anos.
</li>
<li>
O valor mediano da idade do cliente é de 37 anos.
</li>
</ul>
<div class="cell" data-execution_count="19">
<div class="sourceCode cell-code" id="cb17"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb17-1"><a href="#cb17-1" aria-hidden="true" tabindex="-1"></a>create_table_numeric_continuous(<span class="st">"age"</span>, df)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="19">
<style type="text/css">
#T_003ae th:not(.index_name) {
  background-color: #001820;
  color: white;
}
</style>

<table id="T_003ae" data-quarto-postprocess="true" class="table table-sm table-striped small">
<thead>
<tr class="header">
<th class="blank level0" data-quarto-table-cell-role="th">&nbsp;</th>
<th id="T_003ae_level0_col0" class="col_heading level0 col0" data-quarto-table-cell-role="th">SUM</th>
<th id="T_003ae_level0_col1" class="col_heading level0 col1" data-quarto-table-cell-role="th">CNT</th>
<th id="T_003ae_level0_col2" class="col_heading level0 col2" data-quarto-table-cell-role="th">AVG</th>
<th id="T_003ae_level0_col3" class="col_heading level0 col3" data-quarto-table-cell-role="th">STDEV</th>
<th id="T_003ae_level0_col4" class="col_heading level0 col4" data-quarto-table-cell-role="th">PERC_zeros</th>
<th id="T_003ae_level0_col5" class="col_heading level0 col5" data-quarto-table-cell-role="th">PERC_negatives</th>
<th id="T_003ae_level0_col6" class="col_heading level0 col6" data-quarto-table-cell-role="th">MIN</th>
<th id="T_003ae_level0_col7" class="col_heading level0 col7" data-quarto-table-cell-role="th">P1</th>
<th id="T_003ae_level0_col8" class="col_heading level0 col8" data-quarto-table-cell-role="th">P25</th>
<th id="T_003ae_level0_col9" class="col_heading level0 col9" data-quarto-table-cell-role="th">P50</th>
<th id="T_003ae_level0_col10" class="col_heading level0 col10" data-quarto-table-cell-role="th">P75</th>
<th id="T_003ae_level0_col11" class="col_heading level0 col11" data-quarto-table-cell-role="th">P90</th>
<th id="T_003ae_level0_col12" class="col_heading level0 col12" data-quarto-table-cell-role="th">P95</th>
<th id="T_003ae_level0_col13" class="col_heading level0 col13" data-quarto-table-cell-role="th">P99</th>
<th id="T_003ae_level0_col14" class="col_heading level0 col14" data-quarto-table-cell-role="th">MAX</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td id="T_003ae_level0_row0" class="row_heading level0 row0" data-quarto-table-cell-role="th"></td>
<td id="T_003ae_row0_col0" class="data row0 col0">389,218.00</td>
<td id="T_003ae_row0_col1" class="data row0 col1">10000</td>
<td id="T_003ae_row0_col2" class="data row0 col2">38.92</td>
<td id="T_003ae_row0_col3" class="data row0 col3">10.49</td>
<td id="T_003ae_row0_col4" class="data row0 col4">0.00</td>
<td id="T_003ae_row0_col5" class="data row0 col5">0.00</td>
<td id="T_003ae_row0_col6" class="data row0 col6">18.00</td>
<td id="T_003ae_row0_col7" class="data row0 col7">21.00</td>
<td id="T_003ae_row0_col8" class="data row0 col8">32.00</td>
<td id="T_003ae_row0_col9" class="data row0 col9">37.00</td>
<td id="T_003ae_row0_col10" class="data row0 col10">44.00</td>
<td id="T_003ae_row0_col11" class="data row0 col11">53.00</td>
<td id="T_003ae_row0_col12" class="data row0 col12">60.00</td>
<td id="T_003ae_row0_col13" class="data row0 col13">72.00</td>
<td id="T_003ae_row0_col14" class="data row0 col14">92.00</td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="cell" data-execution_count="20">
<div class="sourceCode cell-code" id="cb18"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb18-1"><a href="#cb18-1" aria-hidden="true" tabindex="-1"></a>create_graph_numeric_continuous(<span class="st">"age"</span>, df)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="project2_files/figure-html/cell-21-output-1.png" width="793" height="252" class="figure-img"></p>
</figure>
</div>
</div>
</div>
<hr>
</section>
<section id="balance" class="level3">
<h3 class="anchored" data-anchor-id="balance">Balance</h3>
<p>Saldo bancário do cliente</p>
<strong>Avaliação</strong>: <span style="color: green;"> OK. </span>
<ul>
<li>
Variável numérica.
</li>
<li>
Não possui nenhum valor faltante.
</li>
<li>
Variável com distribuição assimétrica.
</li>
<li>
Alta concetração de clientes com saldo entre 0 e 25 mil.
</li>
</ul>
<div class="cell" data-execution_count="21">
<div class="sourceCode cell-code" id="cb19"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb19-1"><a href="#cb19-1" aria-hidden="true" tabindex="-1"></a>create_table_numeric_continuous(<span class="st">"balance"</span>, df)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="21">
<style type="text/css">
#T_28e91 th:not(.index_name) {
  background-color: #001820;
  color: white;
}
</style>

<table id="T_28e91" data-quarto-postprocess="true" class="table table-sm table-striped small">
<thead>
<tr class="header">
<th class="blank level0" data-quarto-table-cell-role="th">&nbsp;</th>
<th id="T_28e91_level0_col0" class="col_heading level0 col0" data-quarto-table-cell-role="th">SUM</th>
<th id="T_28e91_level0_col1" class="col_heading level0 col1" data-quarto-table-cell-role="th">CNT</th>
<th id="T_28e91_level0_col2" class="col_heading level0 col2" data-quarto-table-cell-role="th">AVG</th>
<th id="T_28e91_level0_col3" class="col_heading level0 col3" data-quarto-table-cell-role="th">STDEV</th>
<th id="T_28e91_level0_col4" class="col_heading level0 col4" data-quarto-table-cell-role="th">PERC_zeros</th>
<th id="T_28e91_level0_col5" class="col_heading level0 col5" data-quarto-table-cell-role="th">PERC_negatives</th>
<th id="T_28e91_level0_col6" class="col_heading level0 col6" data-quarto-table-cell-role="th">MIN</th>
<th id="T_28e91_level0_col7" class="col_heading level0 col7" data-quarto-table-cell-role="th">P1</th>
<th id="T_28e91_level0_col8" class="col_heading level0 col8" data-quarto-table-cell-role="th">P25</th>
<th id="T_28e91_level0_col9" class="col_heading level0 col9" data-quarto-table-cell-role="th">P50</th>
<th id="T_28e91_level0_col10" class="col_heading level0 col10" data-quarto-table-cell-role="th">P75</th>
<th id="T_28e91_level0_col11" class="col_heading level0 col11" data-quarto-table-cell-role="th">P90</th>
<th id="T_28e91_level0_col12" class="col_heading level0 col12" data-quarto-table-cell-role="th">P95</th>
<th id="T_28e91_level0_col13" class="col_heading level0 col13" data-quarto-table-cell-role="th">P99</th>
<th id="T_28e91_level0_col14" class="col_heading level0 col14" data-quarto-table-cell-role="th">MAX</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td id="T_28e91_level0_row0" class="row_heading level0 row0" data-quarto-table-cell-role="th"></td>
<td id="T_28e91_row0_col0" class="data row0 col0">764,858,892.88</td>
<td id="T_28e91_row0_col1" class="data row0 col1">10000</td>
<td id="T_28e91_row0_col2" class="data row0 col2">76,485.89</td>
<td id="T_28e91_row0_col3" class="data row0 col3">62,397.41</td>
<td id="T_28e91_row0_col4" class="data row0 col4">0.36</td>
<td id="T_28e91_row0_col5" class="data row0 col5">0.00</td>
<td id="T_28e91_row0_col6" class="data row0 col6">0.00</td>
<td id="T_28e91_row0_col7" class="data row0 col7">0.00</td>
<td id="T_28e91_row0_col8" class="data row0 col8">0.00</td>
<td id="T_28e91_row0_col9" class="data row0 col9">97,198.54</td>
<td id="T_28e91_row0_col10" class="data row0 col10">127,644.24</td>
<td id="T_28e91_row0_col11" class="data row0 col11">149,244.79</td>
<td id="T_28e91_row0_col12" class="data row0 col12">162,711.67</td>
<td id="T_28e91_row0_col13" class="data row0 col13">185,967.99</td>
<td id="T_28e91_row0_col14" class="data row0 col14">250,898.09</td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="cell" data-execution_count="22">
<div class="sourceCode cell-code" id="cb20"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb20-1"><a href="#cb20-1" aria-hidden="true" tabindex="-1"></a>create_graph_numeric_continuous(<span class="st">"balance"</span>, df)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="project2_files/figure-html/cell-23-output-1.png" width="793" height="252" class="figure-img"></p>
</figure>
</div>
</div>
</div>
<hr>
</section>
<section id="estimated-salary" class="level3">
<h3 class="anchored" data-anchor-id="estimated-salary">Estimated Salary</h3>
<p>Salario estimado.</p>
<strong>Avaliação</strong>: <span style="color: green;"> OK. </span>
<ul>
<li>
Variável numérica.
</li>
<li>
Não possui nenhum valor faltante.
</li>
<li>
Variável com distribuição uniforme.
</li>
</ul>
<div class="cell" data-execution_count="23">
<div class="sourceCode cell-code" id="cb21"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb21-1"><a href="#cb21-1" aria-hidden="true" tabindex="-1"></a>create_table_numeric_continuous(<span class="st">"estimated_salary"</span>, df)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="23">
<style type="text/css">
#T_6e574 th:not(.index_name) {
  background-color: #001820;
  color: white;
}
</style>

<table id="T_6e574" data-quarto-postprocess="true" class="table table-sm table-striped small">
<thead>
<tr class="header">
<th class="blank level0" data-quarto-table-cell-role="th">&nbsp;</th>
<th id="T_6e574_level0_col0" class="col_heading level0 col0" data-quarto-table-cell-role="th">SUM</th>
<th id="T_6e574_level0_col1" class="col_heading level0 col1" data-quarto-table-cell-role="th">CNT</th>
<th id="T_6e574_level0_col2" class="col_heading level0 col2" data-quarto-table-cell-role="th">AVG</th>
<th id="T_6e574_level0_col3" class="col_heading level0 col3" data-quarto-table-cell-role="th">STDEV</th>
<th id="T_6e574_level0_col4" class="col_heading level0 col4" data-quarto-table-cell-role="th">PERC_zeros</th>
<th id="T_6e574_level0_col5" class="col_heading level0 col5" data-quarto-table-cell-role="th">PERC_negatives</th>
<th id="T_6e574_level0_col6" class="col_heading level0 col6" data-quarto-table-cell-role="th">MIN</th>
<th id="T_6e574_level0_col7" class="col_heading level0 col7" data-quarto-table-cell-role="th">P1</th>
<th id="T_6e574_level0_col8" class="col_heading level0 col8" data-quarto-table-cell-role="th">P25</th>
<th id="T_6e574_level0_col9" class="col_heading level0 col9" data-quarto-table-cell-role="th">P50</th>
<th id="T_6e574_level0_col10" class="col_heading level0 col10" data-quarto-table-cell-role="th">P75</th>
<th id="T_6e574_level0_col11" class="col_heading level0 col11" data-quarto-table-cell-role="th">P90</th>
<th id="T_6e574_level0_col12" class="col_heading level0 col12" data-quarto-table-cell-role="th">P95</th>
<th id="T_6e574_level0_col13" class="col_heading level0 col13" data-quarto-table-cell-role="th">P99</th>
<th id="T_6e574_level0_col14" class="col_heading level0 col14" data-quarto-table-cell-role="th">MAX</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td id="T_6e574_level0_row0" class="row_heading level0 row0" data-quarto-table-cell-role="th"></td>
<td id="T_6e574_row0_col0" class="data row0 col0">1,000,902,398.81</td>
<td id="T_6e574_row0_col1" class="data row0 col1">10000</td>
<td id="T_6e574_row0_col2" class="data row0 col2">100,090.24</td>
<td id="T_6e574_row0_col3" class="data row0 col3">57,510.49</td>
<td id="T_6e574_row0_col4" class="data row0 col4">0.00</td>
<td id="T_6e574_row0_col5" class="data row0 col5">0.00</td>
<td id="T_6e574_row0_col6" class="data row0 col6">11.58</td>
<td id="T_6e574_row0_col7" class="data row0 col7">1,842.83</td>
<td id="T_6e574_row0_col8" class="data row0 col8">51,002.11</td>
<td id="T_6e574_row0_col9" class="data row0 col9">100,193.92</td>
<td id="T_6e574_row0_col10" class="data row0 col10">149,388.25</td>
<td id="T_6e574_row0_col11" class="data row0 col11">179,674.70</td>
<td id="T_6e574_row0_col12" class="data row0 col12">190,155.38</td>
<td id="T_6e574_row0_col13" class="data row0 col13">198,069.73</td>
<td id="T_6e574_row0_col14" class="data row0 col14">199,992.48</td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="cell" data-execution_count="24">
<div class="sourceCode cell-code" id="cb22"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb22-1"><a href="#cb22-1" aria-hidden="true" tabindex="-1"></a>create_graph_numeric_continuous(<span class="st">"estimated_salary"</span>, df)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="project2_files/figure-html/cell-25-output-1.png" width="793" height="252" class="figure-img"></p>
</figure>
</div>
</div>
</div>
</section>
</section>
<section id="análise-bivariada-dos-dados" class="level2">
<h2 class="anchored" data-anchor-id="análise-bivariada-dos-dados">Análise Bivariada dos Dados</h2>
<p>
A análise bivariada tem como objetivo examinar a relação entre duas variáveis em um conjunto de dados. Ao contrário da análise univariada, que se concentra em uma única variável (EDA que fizemos no item anterior), a análise bivariada explora a associação entre duas variáveis.
</p>
<p>
</p><p>Existem diferentes técnicas e métodos para realizar uma análise bivariada, dependendo da natureza das variáveis envolvidas. Para o nosso problema, estamos interessados em avaliar o grau de associação entre cada uma das possíveis variáveis preditoras e a variável target, dessa forma temos que:</p>
<ul>
<li><p>churn: Categórica Binária (target)</p></li>
<li><p>country: Categórica</p></li>
<li><p>gender: Categórica</p></li>
<li><p>credit_card: Categórica</p></li>
<li><p>active_member: Categórica</p></li>
<li><p>producs_number: Numérica Discreta</p></li>
<li><p>tenure: Numérica Discreta</p></li>
<li><p>credit_score: Numérica Contínua</p></li>
<li><p>age: Numérica Discreta</p></li>
<li><p>balance: Numérica Contínua</p></li>
<li><p>estimated_salary: Numérica Contínua</p></li>
</ul>
<p></p>
<p>
A nossa abordagem será transformar todas as variáveis preditoras em categóricas, para posteriormente avaliarmos o grau de associação de cada uma delas frente a variável target, para isso teremos basicamente duas etapas:
</p><ol>
<li>
Binning das variáveis.
</li>
<li>
Avaliação do Grau de Associação.
</li>
</ol>
<p></p>
<hr>
<strong>Binning</strong>
<p>
Chamaremos esse processo de transformação de uma variável numérica em categórica de binning. O processo de binning será feito através de um método denominado de <strong>optimal binning</strong> <a href="https://gnpalencia.org/optbinning/" class="uri">https://gnpalencia.org/optbinning/</a>.
</p>
<p>
O optimal binning refere-se a uma abordagem estatística utilizada em análise de dados para agrupar valores de uma variável em intervalos (ou “bins”) de maneira a otimizar algum critério específico. A principal ideia por trás do binning ótimo é encontrar a divisão mais informativa ou significativa das observações, geralmente com base em algum critério de interesse, como a maximização da diferença nas médias entre os grupos ou a minimização da variabilidade intra-bin.
</p>
<p>
Ou seja, de forma resumida, vamos pegar um certa variável, por exemplo o balance (saldo da conta) e tentar discretizar em categorias onde fique mais evidente se a ocorrência de churn é maior ou menor.
</p>
<p>
Vale ressaltar que também vamos aplicar o optimal binning para as variáveis que já são categóricas, uma vez que esse processo de otimização pode gerar agrupamentos mais informativos (quanto a ocorrência de churn) do que as categorias já existentes.
</p>
<hr>
<strong>Avaliação do Grau de Associação</strong>
<p>
Neste momento todas as nossas variáveis (preditoras e target) são categóricas, então para mensurar o grau de associação entre cada preditora e o target, utilizaremos o coeficiente <strong>Cramer’s V</strong> (V de Cramer).
</p>
<p>
</p><p>O coeficiente V de Cramer é uma medida estatística utilizada em análises bivariadas para quantificar a força de associação entre duas variáveis categóricas. Essa medida é uma extensão do coeficiente qui-quadrado, que é comumente utilizado para testar a independência entre variáveis categóricas.</p>
O coeficiente V de Cramer varia de 0 a 1, onde 0 indica nenhuma associação e 1 indica associação total entre as variáveis categóricas. <a href="https://en.wikipedia.org/wiki/Cram%C3%A9r%27s_V" class="uri">https://en.wikipedia.org/wiki/Cram%C3%A9r%27s_V</a>
<p></p>
<hr>
<p><strong>Resultado da Análise Bivariada</strong></p>
<p>Após o término da análise bivariada, conforme a tabela abaixo e os demais resultados que veremos na sequência, veremos que:</p>
<ul>
<li>age: É a variável com maior grau de associação com o evento de churn (Alta discriminância).</li>
<li>products_number, country, active_member: Estão associadas de forma moderada com o evento de churn (Média discriminância).</li>
<li>credit_score, tenure, estimated_salary e credit_card: Possuem baixo grau de associação com o evento de churn (Baixa discriminância).</li>
</ul>
<p>As variáveis com alta e média discriminância têm maiores chances de serem consideradas como preditoras no modelo preditivo que iremos construir. Em contrapartida, as variáveis de baixa discriminância possuem menor propensão de serem utilizadas como preditoras nesse modelo.”</p>
<strong>Observação</strong>
<p>
</p><p>O critério utilizado para definir a discriminância não está levando em conta apenas se o valor de Cramer’s V está muito próximo de 0 ou 1, mas também considera o contexto dessa análise. Por exemplo, para a variável idade, temos Cramer’s V = 0.36, que é um valor mais próximo de 0 do que de 1. Se considerássemos apenas essa questão, diríamos que o grau de associação é moderado ou baixo.</p>
<p>No entanto, no contexto desta análise, a variável idade é a que possui o maior Cramer’s V. Portanto, dentro do nosso contexto, estamos considerando que o grau de associação com o evento é forte.</p>
<p>Para fins de esclarecimento, consideramos que:</p>
<ul>
<li>Cramer’s V &gt; 0.20: Discriminância Alta.</li>
<li>0.20 &lt;= Cramer’s V &lt; 0.05: Discriminância Média.</li>
<li>Cramer’s V &lt;= 0.05: Discriminância Baixa.</li>
</ul>
<p></p>
<div class="cell" data-execution_count="25">
<div class="sourceCode cell-code" id="cb23"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb23-1"><a href="#cb23-1" aria-hidden="true" tabindex="-1"></a>numerical_variables <span class="op">=</span> [</span>
<span id="cb23-2"><a href="#cb23-2" aria-hidden="true" tabindex="-1"></a>    <span class="st">"products_number"</span>,</span>
<span id="cb23-3"><a href="#cb23-3" aria-hidden="true" tabindex="-1"></a>    <span class="st">"tenure"</span>,</span>
<span id="cb23-4"><a href="#cb23-4" aria-hidden="true" tabindex="-1"></a>    <span class="st">"credit_score"</span>,</span>
<span id="cb23-5"><a href="#cb23-5" aria-hidden="true" tabindex="-1"></a>    <span class="st">"age"</span>,</span>
<span id="cb23-6"><a href="#cb23-6" aria-hidden="true" tabindex="-1"></a>    <span class="st">"estimated_salary"</span></span>
<span id="cb23-7"><a href="#cb23-7" aria-hidden="true" tabindex="-1"></a>    ]</span>
<span id="cb23-8"><a href="#cb23-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb23-9"><a href="#cb23-9" aria-hidden="true" tabindex="-1"></a>categorical_variables <span class="op">=</span> [</span>
<span id="cb23-10"><a href="#cb23-10" aria-hidden="true" tabindex="-1"></a>    <span class="st">"country"</span>, </span>
<span id="cb23-11"><a href="#cb23-11" aria-hidden="true" tabindex="-1"></a>    <span class="st">"gender"</span>, </span>
<span id="cb23-12"><a href="#cb23-12" aria-hidden="true" tabindex="-1"></a>    <span class="st">"credit_card"</span>,</span>
<span id="cb23-13"><a href="#cb23-13" aria-hidden="true" tabindex="-1"></a>    <span class="st">"active_member"</span>,</span>
<span id="cb23-14"><a href="#cb23-14" aria-hidden="true" tabindex="-1"></a>    <span class="st">"balance"</span>,</span>
<span id="cb23-15"><a href="#cb23-15" aria-hidden="true" tabindex="-1"></a>    ]</span>
<span id="cb23-16"><a href="#cb23-16" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb23-17"><a href="#cb23-17" aria-hidden="true" tabindex="-1"></a>target_variable <span class="op">=</span> <span class="st">'churn'</span></span>
<span id="cb23-18"><a href="#cb23-18" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb23-19"><a href="#cb23-19" aria-hidden="true" tabindex="-1"></a>df <span class="op">=</span> df_base</span>
<span id="cb23-20"><a href="#cb23-20" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb23-21"><a href="#cb23-21" aria-hidden="true" tabindex="-1"></a><span class="co"># balance</span></span>
<span id="cb23-22"><a href="#cb23-22" aria-hidden="true" tabindex="-1"></a>var_name <span class="op">=</span> <span class="st">'balance'</span></span>
<span id="cb23-23"><a href="#cb23-23" aria-hidden="true" tabindex="-1"></a>c1 <span class="op">=</span> df[var_name].between(<span class="op">-</span>np.inf,  <span class="fl">1884.34</span>, inclusive <span class="op">=</span> <span class="st">"neither"</span>)</span>
<span id="cb23-24"><a href="#cb23-24" aria-hidden="true" tabindex="-1"></a>df[var_name] <span class="op">=</span> np.where(c1, <span class="st">'&lt; 1884.34'</span>, <span class="st">'&gt;= 1884.34'</span>)</span>
<span id="cb23-25"><a href="#cb23-25" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb23-26"><a href="#cb23-26" aria-hidden="true" tabindex="-1"></a>df_bivariate <span class="op">=</span> bivariate(</span>
<span id="cb23-27"><a href="#cb23-27" aria-hidden="true" tabindex="-1"></a>    df,</span>
<span id="cb23-28"><a href="#cb23-28" aria-hidden="true" tabindex="-1"></a>    numerical_variables,</span>
<span id="cb23-29"><a href="#cb23-29" aria-hidden="true" tabindex="-1"></a>    categorical_variables,</span>
<span id="cb23-30"><a href="#cb23-30" aria-hidden="true" tabindex="-1"></a>    target_variable)</span>
<span id="cb23-31"><a href="#cb23-31" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb23-32"><a href="#cb23-32" aria-hidden="true" tabindex="-1"></a>df_bivariate.rename(columns <span class="op">=</span> {<span class="st">"Indicador"</span>:<span class="st">"Feature"</span>}, inplace <span class="op">=</span> <span class="va">True</span>)</span>
<span id="cb23-33"><a href="#cb23-33" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb23-34"><a href="#cb23-34" aria-hidden="true" tabindex="-1"></a>df <span class="op">=</span> (</span>
<span id="cb23-35"><a href="#cb23-35" aria-hidden="true" tabindex="-1"></a>  df_bivariate[[<span class="st">"Feature"</span>, <span class="st">"Cramer's V"</span>, <span class="st">"Discriminância"</span>]]</span>
<span id="cb23-36"><a href="#cb23-36" aria-hidden="true" tabindex="-1"></a>  .drop_duplicates()</span>
<span id="cb23-37"><a href="#cb23-37" aria-hidden="true" tabindex="-1"></a>  .sort_values(by <span class="op">=</span> [<span class="st">"Cramer's V"</span>, <span class="st">"Feature"</span>], ascending <span class="op">=</span> <span class="va">False</span>)</span>
<span id="cb23-38"><a href="#cb23-38" aria-hidden="true" tabindex="-1"></a>  .reset_index(drop <span class="op">=</span> <span class="va">True</span>)</span>
<span id="cb23-39"><a href="#cb23-39" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb23-40"><a href="#cb23-40" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb23-41"><a href="#cb23-41" aria-hidden="true" tabindex="-1"></a>create_table_bivariate_summary(df, cols_float <span class="op">=</span> [<span class="st">"Cramer's V"</span>])</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="25">
<style type="text/css">
#T_518c8 th:not(.index_name) {
  background-color: #001820;
  color: white;
}
</style>

<table id="T_518c8" data-quarto-postprocess="true" class="table table-sm table-striped small">
<thead>
<tr class="header">
<th class="blank level0" data-quarto-table-cell-role="th">&nbsp;</th>
<th id="T_518c8_level0_col0" class="col_heading level0 col0" data-quarto-table-cell-role="th">Feature</th>
<th id="T_518c8_level0_col1" class="col_heading level0 col1" data-quarto-table-cell-role="th">Cramer's V</th>
<th id="T_518c8_level0_col2" class="col_heading level0 col2" data-quarto-table-cell-role="th">Discriminância</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td id="T_518c8_level0_row0" class="row_heading level0 row0" data-quarto-table-cell-role="th"></td>
<td id="T_518c8_row0_col0" class="data row0 col0">age</td>
<td id="T_518c8_row0_col1" class="data row0 col1">0.36</td>
<td id="T_518c8_row0_col2" class="data row0 col2">Alta</td>
</tr>
<tr class="even">
<td id="T_518c8_level0_row1" class="row_heading level0 row1" data-quarto-table-cell-role="th"></td>
<td id="T_518c8_row1_col0" class="data row1 col0">products_number</td>
<td id="T_518c8_row1_col1" class="data row1 col1">0.19</td>
<td id="T_518c8_row1_col2" class="data row1 col2">Média</td>
</tr>
<tr class="odd">
<td id="T_518c8_level0_row2" class="row_heading level0 row2" data-quarto-table-cell-role="th"></td>
<td id="T_518c8_row2_col0" class="data row2 col0">country</td>
<td id="T_518c8_row2_col1" class="data row2 col1">0.17</td>
<td id="T_518c8_row2_col2" class="data row2 col2">Média</td>
</tr>
<tr class="even">
<td id="T_518c8_level0_row3" class="row_heading level0 row3" data-quarto-table-cell-role="th"></td>
<td id="T_518c8_row3_col0" class="data row3 col0">active_member</td>
<td id="T_518c8_row3_col1" class="data row3 col1">0.16</td>
<td id="T_518c8_row3_col2" class="data row3 col2">Média</td>
</tr>
<tr class="odd">
<td id="T_518c8_level0_row4" class="row_heading level0 row4" data-quarto-table-cell-role="th"></td>
<td id="T_518c8_row4_col0" class="data row4 col0">balance</td>
<td id="T_518c8_row4_col1" class="data row4 col1">0.12</td>
<td id="T_518c8_row4_col2" class="data row4 col2">Média</td>
</tr>
<tr class="even">
<td id="T_518c8_level0_row5" class="row_heading level0 row5" data-quarto-table-cell-role="th"></td>
<td id="T_518c8_row5_col0" class="data row5 col0">gender</td>
<td id="T_518c8_row5_col1" class="data row5 col1">0.11</td>
<td id="T_518c8_row5_col2" class="data row5 col2">Média</td>
</tr>
<tr class="odd">
<td id="T_518c8_level0_row6" class="row_heading level0 row6" data-quarto-table-cell-role="th"></td>
<td id="T_518c8_row6_col0" class="data row6 col0">credit_score</td>
<td id="T_518c8_row6_col1" class="data row6 col1">0.04</td>
<td id="T_518c8_row6_col2" class="data row6 col2">Baixa</td>
</tr>
<tr class="even">
<td id="T_518c8_level0_row7" class="row_heading level0 row7" data-quarto-table-cell-role="th"></td>
<td id="T_518c8_row7_col0" class="data row7 col0">tenure</td>
<td id="T_518c8_row7_col1" class="data row7 col1">0.04</td>
<td id="T_518c8_row7_col2" class="data row7 col2">Baixa</td>
</tr>
<tr class="odd">
<td id="T_518c8_level0_row8" class="row_heading level0 row8" data-quarto-table-cell-role="th"></td>
<td id="T_518c8_row8_col0" class="data row8 col0">estimated_salary</td>
<td id="T_518c8_row8_col1" class="data row8 col1">0.03</td>
<td id="T_518c8_row8_col2" class="data row8 col2">Baixa</td>
</tr>
<tr class="even">
<td id="T_518c8_level0_row9" class="row_heading level0 row9" data-quarto-table-cell-role="th"></td>
<td id="T_518c8_row9_col0" class="data row9 col0">credit_card</td>
<td id="T_518c8_row9_col1" class="data row9 col1">0.01</td>
<td id="T_518c8_row9_col2" class="data row9 col2">Baixa</td>
</tr>
</tbody>
</table>
</div>
</div>
<section id="age-1" class="level3">
<h3 class="anchored" data-anchor-id="age-1">Age</h3>
<strong>Discriminância</strong>: <span style="color: green;"> Alta. </span>
<ul>
<li>
Quanto mais velho for o cliente, maior é a propensão de ocorrência do churn.
</li>
</ul>
<div class="cell" data-execution_count="26">
<div class="sourceCode cell-code" id="cb24"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb24-1"><a href="#cb24-1" aria-hidden="true" tabindex="-1"></a>var <span class="op">=</span> <span class="st">"age"</span></span>
<span id="cb24-2"><a href="#cb24-2" aria-hidden="true" tabindex="-1"></a>create_table_bivariate_html(df_bivariate, var)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="26">
<style type="text/css">
#T_6ffe9 th:not(.index_name) {
  background-color: #001820;
  color: white;
}
</style>

<table id="T_6ffe9" data-quarto-postprocess="true" class="table table-sm table-striped small">
<thead>
<tr class="header">
<th class="blank level0" data-quarto-table-cell-role="th">&nbsp;</th>
<th id="T_6ffe9_level0_col0" class="col_heading level0 col0" data-quarto-table-cell-role="th">Categoria</th>
<th id="T_6ffe9_level0_col1" class="col_heading level0 col1" data-quarto-table-cell-role="th">Não Churn</th>
<th id="T_6ffe9_level0_col2" class="col_heading level0 col2" data-quarto-table-cell-role="th">Churn</th>
<th id="T_6ffe9_level0_col3" class="col_heading level0 col3" data-quarto-table-cell-role="th">Total</th>
<th id="T_6ffe9_level0_col4" class="col_heading level0 col4" data-quarto-table-cell-role="th">% Churn</th>
<th id="T_6ffe9_level0_col5" class="col_heading level0 col5" data-quarto-table-cell-role="th">% Categoria</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td id="T_6ffe9_level0_row0" class="row_heading level0 row0" data-quarto-table-cell-role="th"></td>
<td id="T_6ffe9_row0_col0" class="data row0 col0">(-inf, 27.50)</td>
<td id="T_6ffe9_row0_col1" class="data row0 col1">947</td>
<td id="T_6ffe9_row0_col2" class="data row0 col2">73</td>
<td id="T_6ffe9_row0_col3" class="data row0 col3">1020</td>
<td id="T_6ffe9_row0_col4" class="data row0 col4">7.16</td>
<td id="T_6ffe9_row0_col5" class="data row0 col5">10.20</td>
</tr>
<tr class="even">
<td id="T_6ffe9_level0_row1" class="row_heading level0 row1" data-quarto-table-cell-role="th"></td>
<td id="T_6ffe9_row1_col0" class="data row1 col0">[27.50, 32.50)</td>
<td id="T_6ffe9_row1_col1" class="data row1 col1">1630</td>
<td id="T_6ffe9_row1_col2" class="data row1 col2">140</td>
<td id="T_6ffe9_row1_col3" class="data row1 col3">1770</td>
<td id="T_6ffe9_row1_col4" class="data row1 col4">7.91</td>
<td id="T_6ffe9_row1_col5" class="data row1 col5">17.70</td>
</tr>
<tr class="odd">
<td id="T_6ffe9_level0_row2" class="row_heading level0 row2" data-quarto-table-cell-role="th"></td>
<td id="T_6ffe9_row2_col0" class="data row2 col0">[32.50, 34.50)</td>
<td id="T_6ffe9_row2_col1" class="data row2 col1">812</td>
<td id="T_6ffe9_row2_col2" class="data row2 col2">77</td>
<td id="T_6ffe9_row2_col3" class="data row2 col3">889</td>
<td id="T_6ffe9_row2_col4" class="data row2 col4">8.66</td>
<td id="T_6ffe9_row2_col5" class="data row2 col5">8.89</td>
</tr>
<tr class="even">
<td id="T_6ffe9_level0_row3" class="row_heading level0 row3" data-quarto-table-cell-role="th"></td>
<td id="T_6ffe9_row3_col0" class="data row3 col0">[34.50, 36.50)</td>
<td id="T_6ffe9_row3_col1" class="data row3 col1">820</td>
<td id="T_6ffe9_row3_col2" class="data row3 col2">110</td>
<td id="T_6ffe9_row3_col3" class="data row3 col3">930</td>
<td id="T_6ffe9_row3_col4" class="data row3 col4">11.83</td>
<td id="T_6ffe9_row3_col5" class="data row3 col5">9.30</td>
</tr>
<tr class="odd">
<td id="T_6ffe9_level0_row4" class="row_heading level0 row4" data-quarto-table-cell-role="th"></td>
<td id="T_6ffe9_row4_col0" class="data row4 col0">[36.50, 38.50)</td>
<td id="T_6ffe9_row4_col1" class="data row4 col1">830</td>
<td id="T_6ffe9_row4_col2" class="data row4 col2">125</td>
<td id="T_6ffe9_row4_col3" class="data row4 col3">955</td>
<td id="T_6ffe9_row4_col4" class="data row4 col4">13.09</td>
<td id="T_6ffe9_row4_col5" class="data row4 col5">9.55</td>
</tr>
<tr class="even">
<td id="T_6ffe9_level0_row5" class="row_heading level0 row5" data-quarto-table-cell-role="th"></td>
<td id="T_6ffe9_row5_col0" class="data row5 col0">[38.50, 40.50)</td>
<td id="T_6ffe9_row5_col1" class="data row5 col1">694</td>
<td id="T_6ffe9_row5_col2" class="data row5 col2">161</td>
<td id="T_6ffe9_row5_col3" class="data row5 col3">855</td>
<td id="T_6ffe9_row5_col4" class="data row5 col4">18.83</td>
<td id="T_6ffe9_row5_col5" class="data row5 col5">8.55</td>
</tr>
<tr class="odd">
<td id="T_6ffe9_level0_row6" class="row_heading level0 row6" data-quarto-table-cell-role="th"></td>
<td id="T_6ffe9_row6_col0" class="data row6 col0">[40.50, 42.50)</td>
<td id="T_6ffe9_row6_col1" class="data row6 col1">541</td>
<td id="T_6ffe9_row6_col2" class="data row6 col2">146</td>
<td id="T_6ffe9_row6_col3" class="data row6 col3">687</td>
<td id="T_6ffe9_row6_col4" class="data row6 col4">21.25</td>
<td id="T_6ffe9_row6_col5" class="data row6 col5">6.87</td>
</tr>
<tr class="even">
<td id="T_6ffe9_level0_row7" class="row_heading level0 row7" data-quarto-table-cell-role="th"></td>
<td id="T_6ffe9_row7_col0" class="data row7 col0">[42.50, 46.50)</td>
<td id="T_6ffe9_row7_col1" class="data row7 col1">670</td>
<td id="T_6ffe9_row7_col2" class="data row7 col2">339</td>
<td id="T_6ffe9_row7_col3" class="data row7 col3">1009</td>
<td id="T_6ffe9_row7_col4" class="data row7 col4">33.60</td>
<td id="T_6ffe9_row7_col5" class="data row7 col5">10.09</td>
</tr>
<tr class="odd">
<td id="T_6ffe9_level0_row8" class="row_heading level0 row8" data-quarto-table-cell-role="th"></td>
<td id="T_6ffe9_row8_col0" class="data row8 col0">[46.50, inf)</td>
<td id="T_6ffe9_row8_col1" class="data row8 col1">1019</td>
<td id="T_6ffe9_row8_col2" class="data row8 col2">866</td>
<td id="T_6ffe9_row8_col3" class="data row8 col3">1885</td>
<td id="T_6ffe9_row8_col4" class="data row8 col4">45.94</td>
<td id="T_6ffe9_row8_col5" class="data row8 col5">18.85</td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="cell" data-execution_count="27">
<div class="sourceCode cell-code" id="cb25"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb25-1"><a href="#cb25-1" aria-hidden="true" tabindex="-1"></a>create_graph_bivariate_html(df_bivariate, var)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="project2_files/figure-html/cell-28-output-1.png" width="837" height="293" class="figure-img"></p>
</figure>
</div>
</div>
</div>
<hr>
</section>
<section id="products-number-1" class="level3">
<h3 class="anchored" data-anchor-id="products-number-1">Products Number</h3>
<strong>Discriminância</strong>: <span style="color: yellow;"> Média. </span>
<ul>
<li>
A ocorrência do churn é maior para clientes que contrataram somente 1 produto.
</li>
</ul>
<div class="cell" data-execution_count="28">
<div class="sourceCode cell-code" id="cb26"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb26-1"><a href="#cb26-1" aria-hidden="true" tabindex="-1"></a>var <span class="op">=</span> <span class="st">"products_number"</span></span>
<span id="cb26-2"><a href="#cb26-2" aria-hidden="true" tabindex="-1"></a>create_table_bivariate_html(df_bivariate, var)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="28">
<style type="text/css">
#T_15f4f th:not(.index_name) {
  background-color: #001820;
  color: white;
}
</style>

<table id="T_15f4f" data-quarto-postprocess="true" class="table table-sm table-striped small">
<thead>
<tr class="header">
<th class="blank level0" data-quarto-table-cell-role="th">&nbsp;</th>
<th id="T_15f4f_level0_col0" class="col_heading level0 col0" data-quarto-table-cell-role="th">Categoria</th>
<th id="T_15f4f_level0_col1" class="col_heading level0 col1" data-quarto-table-cell-role="th">Não Churn</th>
<th id="T_15f4f_level0_col2" class="col_heading level0 col2" data-quarto-table-cell-role="th">Churn</th>
<th id="T_15f4f_level0_col3" class="col_heading level0 col3" data-quarto-table-cell-role="th">Total</th>
<th id="T_15f4f_level0_col4" class="col_heading level0 col4" data-quarto-table-cell-role="th">% Churn</th>
<th id="T_15f4f_level0_col5" class="col_heading level0 col5" data-quarto-table-cell-role="th">% Categoria</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td id="T_15f4f_level0_row0" class="row_heading level0 row0" data-quarto-table-cell-role="th"></td>
<td id="T_15f4f_row0_col0" class="data row0 col0">(-inf, 1.50)</td>
<td id="T_15f4f_row0_col1" class="data row0 col1">3675</td>
<td id="T_15f4f_row0_col2" class="data row0 col2">1409</td>
<td id="T_15f4f_row0_col3" class="data row0 col3">5084</td>
<td id="T_15f4f_row0_col4" class="data row0 col4">27.71</td>
<td id="T_15f4f_row0_col5" class="data row0 col5">50.84</td>
</tr>
<tr class="even">
<td id="T_15f4f_level0_row1" class="row_heading level0 row1" data-quarto-table-cell-role="th"></td>
<td id="T_15f4f_row1_col0" class="data row1 col0">[1.50, inf)</td>
<td id="T_15f4f_row1_col1" class="data row1 col1">4288</td>
<td id="T_15f4f_row1_col2" class="data row1 col2">628</td>
<td id="T_15f4f_row1_col3" class="data row1 col3">4916</td>
<td id="T_15f4f_row1_col4" class="data row1 col4">12.77</td>
<td id="T_15f4f_row1_col5" class="data row1 col5">49.16</td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="cell" data-execution_count="29">
<div class="sourceCode cell-code" id="cb27"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb27-1"><a href="#cb27-1" aria-hidden="true" tabindex="-1"></a>create_graph_bivariate_html(df_bivariate, var)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="project2_files/figure-html/cell-30-output-1.png" width="837" height="282" class="figure-img"></p>
</figure>
</div>
</div>
</div>
<hr>
</section>
<section id="country-1" class="level3">
<h3 class="anchored" data-anchor-id="country-1">Country</h3>
<strong>Discriminância</strong>: <span style="color: yellow;"> Média. </span>
<ul>
<li>
A ocorrência do churn é maior para clientes da Alemanha.
</li>
</ul>
<div class="cell" data-execution_count="30">
<div class="sourceCode cell-code" id="cb28"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb28-1"><a href="#cb28-1" aria-hidden="true" tabindex="-1"></a>var <span class="op">=</span> <span class="st">"country"</span></span>
<span id="cb28-2"><a href="#cb28-2" aria-hidden="true" tabindex="-1"></a>create_table_bivariate_html(df_bivariate, var)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="30">
<style type="text/css">
#T_dd477 th:not(.index_name) {
  background-color: #001820;
  color: white;
}
</style>

<table id="T_dd477" data-quarto-postprocess="true" class="table table-sm table-striped small">
<thead>
<tr class="header">
<th class="blank level0" data-quarto-table-cell-role="th">&nbsp;</th>
<th id="T_dd477_level0_col0" class="col_heading level0 col0" data-quarto-table-cell-role="th">Categoria</th>
<th id="T_dd477_level0_col1" class="col_heading level0 col1" data-quarto-table-cell-role="th">Não Churn</th>
<th id="T_dd477_level0_col2" class="col_heading level0 col2" data-quarto-table-cell-role="th">Churn</th>
<th id="T_dd477_level0_col3" class="col_heading level0 col3" data-quarto-table-cell-role="th">Total</th>
<th id="T_dd477_level0_col4" class="col_heading level0 col4" data-quarto-table-cell-role="th">% Churn</th>
<th id="T_dd477_level0_col5" class="col_heading level0 col5" data-quarto-table-cell-role="th">% Categoria</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td id="T_dd477_level0_row0" class="row_heading level0 row0" data-quarto-table-cell-role="th"></td>
<td id="T_dd477_row0_col0" class="data row0 col0">['France']</td>
<td id="T_dd477_row0_col1" class="data row0 col1">4204</td>
<td id="T_dd477_row0_col2" class="data row0 col2">810</td>
<td id="T_dd477_row0_col3" class="data row0 col3">5014</td>
<td id="T_dd477_row0_col4" class="data row0 col4">16.15</td>
<td id="T_dd477_row0_col5" class="data row0 col5">50.14</td>
</tr>
<tr class="even">
<td id="T_dd477_level0_row1" class="row_heading level0 row1" data-quarto-table-cell-role="th"></td>
<td id="T_dd477_row1_col0" class="data row1 col0">['Germany']</td>
<td id="T_dd477_row1_col1" class="data row1 col1">1695</td>
<td id="T_dd477_row1_col2" class="data row1 col2">814</td>
<td id="T_dd477_row1_col3" class="data row1 col3">2509</td>
<td id="T_dd477_row1_col4" class="data row1 col4">32.44</td>
<td id="T_dd477_row1_col5" class="data row1 col5">25.09</td>
</tr>
<tr class="odd">
<td id="T_dd477_level0_row2" class="row_heading level0 row2" data-quarto-table-cell-role="th"></td>
<td id="T_dd477_row2_col0" class="data row2 col0">['Spain']</td>
<td id="T_dd477_row2_col1" class="data row2 col1">2064</td>
<td id="T_dd477_row2_col2" class="data row2 col2">413</td>
<td id="T_dd477_row2_col3" class="data row2 col3">2477</td>
<td id="T_dd477_row2_col4" class="data row2 col4">16.67</td>
<td id="T_dd477_row2_col5" class="data row2 col5">24.77</td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="cell" data-execution_count="31">
<div class="sourceCode cell-code" id="cb29"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb29-1"><a href="#cb29-1" aria-hidden="true" tabindex="-1"></a>create_graph_bivariate_html(df_bivariate, var)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="project2_files/figure-html/cell-32-output-1.png" width="837" height="286" class="figure-img"></p>
</figure>
</div>
</div>
</div>
<hr>
</section>
<section id="active-member-1" class="level3">
<h3 class="anchored" data-anchor-id="active-member-1">Active Member</h3>
<strong>Discriminância</strong>: <span style="color: yellow;"> Média. </span>
<ul>
<li>
A ocorrência do churn é maior para clientes que não são ativos.
</li>
</ul>
<div class="cell" data-execution_count="32">
<div class="sourceCode cell-code" id="cb30"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb30-1"><a href="#cb30-1" aria-hidden="true" tabindex="-1"></a>var <span class="op">=</span> <span class="st">"active_member"</span></span>
<span id="cb30-2"><a href="#cb30-2" aria-hidden="true" tabindex="-1"></a>create_table_bivariate_html(df_bivariate, var)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="32">
<style type="text/css">
#T_77892 th:not(.index_name) {
  background-color: #001820;
  color: white;
}
</style>

<table id="T_77892" data-quarto-postprocess="true" class="table table-sm table-striped small">
<thead>
<tr class="header">
<th class="blank level0" data-quarto-table-cell-role="th">&nbsp;</th>
<th id="T_77892_level0_col0" class="col_heading level0 col0" data-quarto-table-cell-role="th">Categoria</th>
<th id="T_77892_level0_col1" class="col_heading level0 col1" data-quarto-table-cell-role="th">Não Churn</th>
<th id="T_77892_level0_col2" class="col_heading level0 col2" data-quarto-table-cell-role="th">Churn</th>
<th id="T_77892_level0_col3" class="col_heading level0 col3" data-quarto-table-cell-role="th">Total</th>
<th id="T_77892_level0_col4" class="col_heading level0 col4" data-quarto-table-cell-role="th">% Churn</th>
<th id="T_77892_level0_col5" class="col_heading level0 col5" data-quarto-table-cell-role="th">% Categoria</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td id="T_77892_level0_row0" class="row_heading level0 row0" data-quarto-table-cell-role="th"></td>
<td id="T_77892_row0_col0" class="data row0 col0">['0']</td>
<td id="T_77892_row0_col1" class="data row0 col1">3547</td>
<td id="T_77892_row0_col2" class="data row0 col2">1302</td>
<td id="T_77892_row0_col3" class="data row0 col3">4849</td>
<td id="T_77892_row0_col4" class="data row0 col4">26.85</td>
<td id="T_77892_row0_col5" class="data row0 col5">48.49</td>
</tr>
<tr class="even">
<td id="T_77892_level0_row1" class="row_heading level0 row1" data-quarto-table-cell-role="th"></td>
<td id="T_77892_row1_col0" class="data row1 col0">['1']</td>
<td id="T_77892_row1_col1" class="data row1 col1">4416</td>
<td id="T_77892_row1_col2" class="data row1 col2">735</td>
<td id="T_77892_row1_col3" class="data row1 col3">5151</td>
<td id="T_77892_row1_col4" class="data row1 col4">14.27</td>
<td id="T_77892_row1_col5" class="data row1 col5">51.51</td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="cell" data-execution_count="33">
<div class="sourceCode cell-code" id="cb31"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb31-1"><a href="#cb31-1" aria-hidden="true" tabindex="-1"></a>create_graph_bivariate_html(df_bivariate, var)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="project2_files/figure-html/cell-34-output-1.png" width="837" height="262" class="figure-img"></p>
</figure>
</div>
</div>
</div>
<hr>
</section>
<section id="balance-1" class="level3">
<h3 class="anchored" data-anchor-id="balance-1">Balance</h3>
<strong>Discriminância</strong>: <span style="color: yellow;"> Média. </span>
<ul>
<li>
A ocorrência do churn é maior para clientes com saldo em conta maior ou igual a 1884.34 .
</li>
</ul>
<div class="cell" data-execution_count="34">
<div class="sourceCode cell-code" id="cb32"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb32-1"><a href="#cb32-1" aria-hidden="true" tabindex="-1"></a>var <span class="op">=</span> <span class="st">"balance"</span></span>
<span id="cb32-2"><a href="#cb32-2" aria-hidden="true" tabindex="-1"></a>create_table_bivariate_html(df_bivariate, var)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="34">
<style type="text/css">
#T_af185 th:not(.index_name) {
  background-color: #001820;
  color: white;
}
</style>

<table id="T_af185" data-quarto-postprocess="true" class="table table-sm table-striped small">
<thead>
<tr class="header">
<th class="blank level0" data-quarto-table-cell-role="th">&nbsp;</th>
<th id="T_af185_level0_col0" class="col_heading level0 col0" data-quarto-table-cell-role="th">Categoria</th>
<th id="T_af185_level0_col1" class="col_heading level0 col1" data-quarto-table-cell-role="th">Não Churn</th>
<th id="T_af185_level0_col2" class="col_heading level0 col2" data-quarto-table-cell-role="th">Churn</th>
<th id="T_af185_level0_col3" class="col_heading level0 col3" data-quarto-table-cell-role="th">Total</th>
<th id="T_af185_level0_col4" class="col_heading level0 col4" data-quarto-table-cell-role="th">% Churn</th>
<th id="T_af185_level0_col5" class="col_heading level0 col5" data-quarto-table-cell-role="th">% Categoria</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td id="T_af185_level0_row0" class="row_heading level0 row0" data-quarto-table-cell-role="th"></td>
<td id="T_af185_row0_col0" class="data row0 col0">['&lt; 1884.34']</td>
<td id="T_af185_row0_col1" class="data row0 col1">3117</td>
<td id="T_af185_row0_col2" class="data row0 col2">500</td>
<td id="T_af185_row0_col3" class="data row0 col3">3617</td>
<td id="T_af185_row0_col4" class="data row0 col4">13.82</td>
<td id="T_af185_row0_col5" class="data row0 col5">36.17</td>
</tr>
<tr class="even">
<td id="T_af185_level0_row1" class="row_heading level0 row1" data-quarto-table-cell-role="th"></td>
<td id="T_af185_row1_col0" class="data row1 col0">['&gt;= 1884.34']</td>
<td id="T_af185_row1_col1" class="data row1 col1">4846</td>
<td id="T_af185_row1_col2" class="data row1 col2">1537</td>
<td id="T_af185_row1_col3" class="data row1 col3">6383</td>
<td id="T_af185_row1_col4" class="data row1 col4">24.08</td>
<td id="T_af185_row1_col5" class="data row1 col5">63.83</td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="cell" data-execution_count="35">
<div class="sourceCode cell-code" id="cb33"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb33-1"><a href="#cb33-1" aria-hidden="true" tabindex="-1"></a>create_graph_bivariate_html(df_bivariate, var)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="project2_files/figure-html/cell-36-output-1.png" width="837" height="295" class="figure-img"></p>
</figure>
</div>
</div>
</div>
<hr>
</section>
<section id="gender-1" class="level3">
<h3 class="anchored" data-anchor-id="gender-1">Gender</h3>
<strong>Discriminância</strong>: <span style="color: yellow;"> Média. </span>
<ul>
<li>
A ocorrência do churn é maior para clientes do sexo feminino.
</li>
</ul>
<div class="cell" data-execution_count="36">
<div class="sourceCode cell-code" id="cb34"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb34-1"><a href="#cb34-1" aria-hidden="true" tabindex="-1"></a>var <span class="op">=</span> <span class="st">"gender"</span></span>
<span id="cb34-2"><a href="#cb34-2" aria-hidden="true" tabindex="-1"></a>create_table_bivariate_html(df_bivariate, var)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="36">
<style type="text/css">
#T_a8992 th:not(.index_name) {
  background-color: #001820;
  color: white;
}
</style>

<table id="T_a8992" data-quarto-postprocess="true" class="table table-sm table-striped small">
<thead>
<tr class="header">
<th class="blank level0" data-quarto-table-cell-role="th">&nbsp;</th>
<th id="T_a8992_level0_col0" class="col_heading level0 col0" data-quarto-table-cell-role="th">Categoria</th>
<th id="T_a8992_level0_col1" class="col_heading level0 col1" data-quarto-table-cell-role="th">Não Churn</th>
<th id="T_a8992_level0_col2" class="col_heading level0 col2" data-quarto-table-cell-role="th">Churn</th>
<th id="T_a8992_level0_col3" class="col_heading level0 col3" data-quarto-table-cell-role="th">Total</th>
<th id="T_a8992_level0_col4" class="col_heading level0 col4" data-quarto-table-cell-role="th">% Churn</th>
<th id="T_a8992_level0_col5" class="col_heading level0 col5" data-quarto-table-cell-role="th">% Categoria</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td id="T_a8992_level0_row0" class="row_heading level0 row0" data-quarto-table-cell-role="th"></td>
<td id="T_a8992_row0_col0" class="data row0 col0">['Female']</td>
<td id="T_a8992_row0_col1" class="data row0 col1">3404</td>
<td id="T_a8992_row0_col2" class="data row0 col2">1139</td>
<td id="T_a8992_row0_col3" class="data row0 col3">4543</td>
<td id="T_a8992_row0_col4" class="data row0 col4">25.07</td>
<td id="T_a8992_row0_col5" class="data row0 col5">45.43</td>
</tr>
<tr class="even">
<td id="T_a8992_level0_row1" class="row_heading level0 row1" data-quarto-table-cell-role="th"></td>
<td id="T_a8992_row1_col0" class="data row1 col0">['Male']</td>
<td id="T_a8992_row1_col1" class="data row1 col1">4559</td>
<td id="T_a8992_row1_col2" class="data row1 col2">898</td>
<td id="T_a8992_row1_col3" class="data row1 col3">5457</td>
<td id="T_a8992_row1_col4" class="data row1 col4">16.46</td>
<td id="T_a8992_row1_col5" class="data row1 col5">54.57</td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="cell" data-execution_count="37">
<div class="sourceCode cell-code" id="cb35"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb35-1"><a href="#cb35-1" aria-hidden="true" tabindex="-1"></a>create_graph_bivariate_html(df_bivariate, var)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="project2_files/figure-html/cell-38-output-1.png" width="837" height="280" class="figure-img"></p>
</figure>
</div>
</div>
</div>
<hr>
</section>
<section id="credit-score-1" class="level3">
<h3 class="anchored" data-anchor-id="credit-score-1">Credit Score</h3>
<strong>Discriminância</strong>: <span style="color: #800000;"> Baixa. </span>
<ul>
<li>
O fato isolado de quão bom ou ruim é o credit_score do cliente, não tem forte relação com o evento de churn.
</li>
</ul>
<div class="cell" data-execution_count="38">
<div class="sourceCode cell-code" id="cb36"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb36-1"><a href="#cb36-1" aria-hidden="true" tabindex="-1"></a>var <span class="op">=</span> <span class="st">"credit_score"</span></span>
<span id="cb36-2"><a href="#cb36-2" aria-hidden="true" tabindex="-1"></a>create_table_bivariate_html(df_bivariate, var)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="38">
<style type="text/css">
#T_56d53 th:not(.index_name) {
  background-color: #001820;
  color: white;
}
</style>

<table id="T_56d53" data-quarto-postprocess="true" class="table table-sm table-striped small">
<thead>
<tr class="header">
<th class="blank level0" data-quarto-table-cell-role="th">&nbsp;</th>
<th id="T_56d53_level0_col0" class="col_heading level0 col0" data-quarto-table-cell-role="th">Categoria</th>
<th id="T_56d53_level0_col1" class="col_heading level0 col1" data-quarto-table-cell-role="th">Não Churn</th>
<th id="T_56d53_level0_col2" class="col_heading level0 col2" data-quarto-table-cell-role="th">Churn</th>
<th id="T_56d53_level0_col3" class="col_heading level0 col3" data-quarto-table-cell-role="th">Total</th>
<th id="T_56d53_level0_col4" class="col_heading level0 col4" data-quarto-table-cell-role="th">% Churn</th>
<th id="T_56d53_level0_col5" class="col_heading level0 col5" data-quarto-table-cell-role="th">% Categoria</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td id="T_56d53_level0_row0" class="row_heading level0 row0" data-quarto-table-cell-role="th"></td>
<td id="T_56d53_row0_col0" class="data row0 col0">(-inf, 489.50)</td>
<td id="T_56d53_row0_col1" class="data row0 col1">377</td>
<td id="T_56d53_row0_col2" class="data row0 col2">125</td>
<td id="T_56d53_row0_col3" class="data row0 col3">502</td>
<td id="T_56d53_row0_col4" class="data row0 col4">24.90</td>
<td id="T_56d53_row0_col5" class="data row0 col5">5.02</td>
</tr>
<tr class="even">
<td id="T_56d53_level0_row1" class="row_heading level0 row1" data-quarto-table-cell-role="th"></td>
<td id="T_56d53_row1_col0" class="data row1 col0">[489.50, 552.50)</td>
<td id="T_56d53_row1_col1" class="data row1 col1">903</td>
<td id="T_56d53_row1_col2" class="data row1 col2">254</td>
<td id="T_56d53_row1_col3" class="data row1 col3">1157</td>
<td id="T_56d53_row1_col4" class="data row1 col4">21.95</td>
<td id="T_56d53_row1_col5" class="data row1 col5">11.57</td>
</tr>
<tr class="odd">
<td id="T_56d53_level0_row2" class="row_heading level0 row2" data-quarto-table-cell-role="th"></td>
<td id="T_56d53_row2_col0" class="data row2 col0">[552.50, 629.50)</td>
<td id="T_56d53_row2_col1" class="data row2 col1">1937</td>
<td id="T_56d53_row2_col2" class="data row2 col2">514</td>
<td id="T_56d53_row2_col3" class="data row2 col3">2451</td>
<td id="T_56d53_row2_col4" class="data row2 col4">20.97</td>
<td id="T_56d53_row2_col5" class="data row2 col5">24.51</td>
</tr>
<tr class="even">
<td id="T_56d53_level0_row3" class="row_heading level0 row3" data-quarto-table-cell-role="th"></td>
<td id="T_56d53_row3_col0" class="data row3 col0">[629.50, 651.50)</td>
<td id="T_56d53_row3_col1" class="data row3 col1">696</td>
<td id="T_56d53_row3_col2" class="data row3 col2">181</td>
<td id="T_56d53_row3_col3" class="data row3 col3">877</td>
<td id="T_56d53_row3_col4" class="data row3 col4">20.64</td>
<td id="T_56d53_row3_col5" class="data row3 col5">8.77</td>
</tr>
<tr class="odd">
<td id="T_56d53_level0_row4" class="row_heading level0 row4" data-quarto-table-cell-role="th"></td>
<td id="T_56d53_row4_col0" class="data row4 col0">[651.50, 678.50)</td>
<td id="T_56d53_row4_col1" class="data row4 col1">859</td>
<td id="T_56d53_row4_col2" class="data row4 col2">194</td>
<td id="T_56d53_row4_col3" class="data row4 col3">1053</td>
<td id="T_56d53_row4_col4" class="data row4 col4">18.42</td>
<td id="T_56d53_row4_col5" class="data row4 col5">10.53</td>
</tr>
<tr class="even">
<td id="T_56d53_level0_row5" class="row_heading level0 row5" data-quarto-table-cell-role="th"></td>
<td id="T_56d53_row5_col0" class="data row5 col0">[678.50, 703.50)</td>
<td id="T_56d53_row5_col1" class="data row5 col1">782</td>
<td id="T_56d53_row5_col2" class="data row5 col2">162</td>
<td id="T_56d53_row5_col3" class="data row5 col3">944</td>
<td id="T_56d53_row5_col4" class="data row5 col4">17.16</td>
<td id="T_56d53_row5_col5" class="data row5 col5">9.44</td>
</tr>
<tr class="odd">
<td id="T_56d53_level0_row6" class="row_heading level0 row6" data-quarto-table-cell-role="th"></td>
<td id="T_56d53_row6_col0" class="data row6 col0">[703.50, 734.50)</td>
<td id="T_56d53_row6_col1" class="data row6 col1">816</td>
<td id="T_56d53_row6_col2" class="data row6 col2">195</td>
<td id="T_56d53_row6_col3" class="data row6 col3">1011</td>
<td id="T_56d53_row6_col4" class="data row6 col4">19.29</td>
<td id="T_56d53_row6_col5" class="data row6 col5">10.11</td>
</tr>
<tr class="even">
<td id="T_56d53_level0_row7" class="row_heading level0 row7" data-quarto-table-cell-role="th"></td>
<td id="T_56d53_row7_col0" class="data row7 col0">[734.50, inf)</td>
<td id="T_56d53_row7_col1" class="data row7 col1">1593</td>
<td id="T_56d53_row7_col2" class="data row7 col2">412</td>
<td id="T_56d53_row7_col3" class="data row7 col3">2005</td>
<td id="T_56d53_row7_col4" class="data row7 col4">20.55</td>
<td id="T_56d53_row7_col5" class="data row7 col5">20.05</td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="cell" data-execution_count="39">
<div class="sourceCode cell-code" id="cb37"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb37-1"><a href="#cb37-1" aria-hidden="true" tabindex="-1"></a>create_graph_bivariate_html(df_bivariate, var)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="project2_files/figure-html/cell-40-output-1.png" width="837" height="301" class="figure-img"></p>
</figure>
</div>
</div>
</div>
<hr>
</section>
<section id="tenure-1" class="level3">
<h3 class="anchored" data-anchor-id="tenure-1">Tenure</h3>
<strong>Discriminância</strong>: <span style="color: #800000;"> Baixa. </span>
<ul>
<li>
O fato isolado da quantidade de anos decorridos desde que o cliente aderiu aos serviços prestados pelo banco, não tem forte relação com o evento de churn.
</li>
</ul>
<div class="cell" data-execution_count="40">
<div class="sourceCode cell-code" id="cb38"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb38-1"><a href="#cb38-1" aria-hidden="true" tabindex="-1"></a>var <span class="op">=</span> <span class="st">"tenure"</span></span>
<span id="cb38-2"><a href="#cb38-2" aria-hidden="true" tabindex="-1"></a>create_table_bivariate_html(df_bivariate, var)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="40">
<style type="text/css">
#T_70420 th:not(.index_name) {
  background-color: #001820;
  color: white;
}
</style>

<table id="T_70420" data-quarto-postprocess="true" class="table table-sm table-striped small">
<thead>
<tr class="header">
<th class="blank level0" data-quarto-table-cell-role="th">&nbsp;</th>
<th id="T_70420_level0_col0" class="col_heading level0 col0" data-quarto-table-cell-role="th">Categoria</th>
<th id="T_70420_level0_col1" class="col_heading level0 col1" data-quarto-table-cell-role="th">Não Churn</th>
<th id="T_70420_level0_col2" class="col_heading level0 col2" data-quarto-table-cell-role="th">Churn</th>
<th id="T_70420_level0_col3" class="col_heading level0 col3" data-quarto-table-cell-role="th">Total</th>
<th id="T_70420_level0_col4" class="col_heading level0 col4" data-quarto-table-cell-role="th">% Churn</th>
<th id="T_70420_level0_col5" class="col_heading level0 col5" data-quarto-table-cell-role="th">% Categoria</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td id="T_70420_level0_row0" class="row_heading level0 row0" data-quarto-table-cell-role="th"></td>
<td id="T_70420_row0_col0" class="data row0 col0">(-inf, 1.50)</td>
<td id="T_70420_row0_col1" class="data row0 col1">1121</td>
<td id="T_70420_row0_col2" class="data row0 col2">327</td>
<td id="T_70420_row0_col3" class="data row0 col3">1448</td>
<td id="T_70420_row0_col4" class="data row0 col4">22.58</td>
<td id="T_70420_row0_col5" class="data row0 col5">14.48</td>
</tr>
<tr class="even">
<td id="T_70420_level0_row1" class="row_heading level0 row1" data-quarto-table-cell-role="th"></td>
<td id="T_70420_row1_col0" class="data row1 col0">[1.50, 5.50)</td>
<td id="T_70420_row1_col1" class="data row1 col1">3232</td>
<td id="T_70420_row1_col2" class="data row1 col2">826</td>
<td id="T_70420_row1_col3" class="data row1 col3">4058</td>
<td id="T_70420_row1_col4" class="data row1 col4">20.35</td>
<td id="T_70420_row1_col5" class="data row1 col5">40.58</td>
</tr>
<tr class="odd">
<td id="T_70420_level0_row2" class="row_heading level0 row2" data-quarto-table-cell-role="th"></td>
<td id="T_70420_row2_col0" class="data row2 col0">[5.50, 6.50)</td>
<td id="T_70420_row2_col1" class="data row2 col1">771</td>
<td id="T_70420_row2_col2" class="data row2 col2">196</td>
<td id="T_70420_row2_col3" class="data row2 col3">967</td>
<td id="T_70420_row2_col4" class="data row2 col4">20.27</td>
<td id="T_70420_row2_col5" class="data row2 col5">9.67</td>
</tr>
<tr class="even">
<td id="T_70420_level0_row3" class="row_heading level0 row3" data-quarto-table-cell-role="th"></td>
<td id="T_70420_row3_col0" class="data row3 col0">[6.50, 7.50)</td>
<td id="T_70420_row3_col1" class="data row3 col1">851</td>
<td id="T_70420_row3_col2" class="data row3 col2">177</td>
<td id="T_70420_row3_col3" class="data row3 col3">1028</td>
<td id="T_70420_row3_col4" class="data row3 col4">17.22</td>
<td id="T_70420_row3_col5" class="data row3 col5">10.28</td>
</tr>
<tr class="odd">
<td id="T_70420_level0_row4" class="row_heading level0 row4" data-quarto-table-cell-role="th"></td>
<td id="T_70420_row4_col0" class="data row4 col0">[7.50, 8.50)</td>
<td id="T_70420_row4_col1" class="data row4 col1">828</td>
<td id="T_70420_row4_col2" class="data row4 col2">197</td>
<td id="T_70420_row4_col3" class="data row4 col3">1025</td>
<td id="T_70420_row4_col4" class="data row4 col4">19.22</td>
<td id="T_70420_row4_col5" class="data row4 col5">10.25</td>
</tr>
<tr class="even">
<td id="T_70420_level0_row5" class="row_heading level0 row5" data-quarto-table-cell-role="th"></td>
<td id="T_70420_row5_col0" class="data row5 col0">[8.50, inf)</td>
<td id="T_70420_row5_col1" class="data row5 col1">1160</td>
<td id="T_70420_row5_col2" class="data row5 col2">314</td>
<td id="T_70420_row5_col3" class="data row5 col3">1474</td>
<td id="T_70420_row5_col4" class="data row5 col4">21.30</td>
<td id="T_70420_row5_col5" class="data row5 col5">14.74</td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="cell" data-execution_count="41">
<div class="sourceCode cell-code" id="cb39"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb39-1"><a href="#cb39-1" aria-hidden="true" tabindex="-1"></a>create_graph_bivariate_html(df_bivariate, var)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="project2_files/figure-html/cell-42-output-1.png" width="837" height="285" class="figure-img"></p>
</figure>
</div>
</div>
</div>
<hr>
</section>
<section id="estimated-salary-1" class="level3">
<h3 class="anchored" data-anchor-id="estimated-salary-1">Estimated Salary</h3>
<strong>Discriminância</strong>: <span style="color: #800000;"> Baixa. </span>
<ul>
<li>
O fato isolado de quão alto ou baixo é o salário do cliente, não tem forte relação com o evento de churn.
</li>
</ul>
<div class="cell" data-execution_count="42">
<div class="sourceCode cell-code" id="cb40"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb40-1"><a href="#cb40-1" aria-hidden="true" tabindex="-1"></a>var <span class="op">=</span> <span class="st">"estimated_salary"</span></span>
<span id="cb40-2"><a href="#cb40-2" aria-hidden="true" tabindex="-1"></a>create_table_bivariate_html(df_bivariate, var)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="42">
<style type="text/css">
#T_7b167 th:not(.index_name) {
  background-color: #001820;
  color: white;
}
</style>

<table id="T_7b167" data-quarto-postprocess="true" class="table table-sm table-striped small">
<thead>
<tr class="header">
<th class="blank level0" data-quarto-table-cell-role="th">&nbsp;</th>
<th id="T_7b167_level0_col0" class="col_heading level0 col0" data-quarto-table-cell-role="th">Categoria</th>
<th id="T_7b167_level0_col1" class="col_heading level0 col1" data-quarto-table-cell-role="th">Não Churn</th>
<th id="T_7b167_level0_col2" class="col_heading level0 col2" data-quarto-table-cell-role="th">Churn</th>
<th id="T_7b167_level0_col3" class="col_heading level0 col3" data-quarto-table-cell-role="th">Total</th>
<th id="T_7b167_level0_col4" class="col_heading level0 col4" data-quarto-table-cell-role="th">% Churn</th>
<th id="T_7b167_level0_col5" class="col_heading level0 col5" data-quarto-table-cell-role="th">% Categoria</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td id="T_7b167_level0_row0" class="row_heading level0 row0" data-quarto-table-cell-role="th"></td>
<td id="T_7b167_row0_col0" class="data row0 col0">(-inf, 33482.46)</td>
<td id="T_7b167_row0_col1" class="data row0 col1">1297</td>
<td id="T_7b167_row0_col2" class="data row0 col2">343</td>
<td id="T_7b167_row0_col3" class="data row0 col3">1640</td>
<td id="T_7b167_row0_col4" class="data row0 col4">20.91</td>
<td id="T_7b167_row0_col5" class="data row0 col5">16.40</td>
</tr>
<tr class="even">
<td id="T_7b167_level0_row1" class="row_heading level0 row1" data-quarto-table-cell-role="th"></td>
<td id="T_7b167_row1_col0" class="data row1 col0">[106162.09, 138559.97)</td>
<td id="T_7b167_row1_col1" class="data row1 col1">1290</td>
<td id="T_7b167_row1_col2" class="data row1 col2">337</td>
<td id="T_7b167_row1_col3" class="data row1 col3">1627</td>
<td id="T_7b167_row1_col4" class="data row1 col4">20.71</td>
<td id="T_7b167_row1_col5" class="data row1 col5">16.27</td>
</tr>
<tr class="odd">
<td id="T_7b167_level0_row2" class="row_heading level0 row2" data-quarto-table-cell-role="th"></td>
<td id="T_7b167_row2_col0" class="data row2 col0">[138559.97, 169420.42)</td>
<td id="T_7b167_row2_col1" class="data row2 col1">1184</td>
<td id="T_7b167_row2_col2" class="data row2 col2">310</td>
<td id="T_7b167_row2_col3" class="data row2 col3">1494</td>
<td id="T_7b167_row2_col4" class="data row2 col4">20.75</td>
<td id="T_7b167_row2_col5" class="data row2 col5">14.94</td>
</tr>
<tr class="even">
<td id="T_7b167_level0_row3" class="row_heading level0 row3" data-quarto-table-cell-role="th"></td>
<td id="T_7b167_row3_col0" class="data row3 col0">[169420.42, inf)</td>
<td id="T_7b167_row3_col1" class="data row3 col1">1201</td>
<td id="T_7b167_row3_col2" class="data row3 col2">341</td>
<td id="T_7b167_row3_col3" class="data row3 col3">1542</td>
<td id="T_7b167_row3_col4" class="data row3 col4">22.11</td>
<td id="T_7b167_row3_col5" class="data row3 col5">15.42</td>
</tr>
<tr class="odd">
<td id="T_7b167_level0_row4" class="row_heading level0 row4" data-quarto-table-cell-role="th"></td>
<td id="T_7b167_row4_col0" class="data row4 col0">[33482.46, 73970.20)</td>
<td id="T_7b167_row4_col1" class="data row4 col1">1620</td>
<td id="T_7b167_row4_col2" class="data row4 col2">402</td>
<td id="T_7b167_row4_col3" class="data row4 col3">2022</td>
<td id="T_7b167_row4_col4" class="data row4 col4">19.88</td>
<td id="T_7b167_row4_col5" class="data row4 col5">20.22</td>
</tr>
<tr class="even">
<td id="T_7b167_level0_row5" class="row_heading level0 row5" data-quarto-table-cell-role="th"></td>
<td id="T_7b167_row5_col0" class="data row5 col0">[73970.20, 83463.54)</td>
<td id="T_7b167_row5_col1" class="data row5 col1">423</td>
<td id="T_7b167_row5_col2" class="data row5 col2">78</td>
<td id="T_7b167_row5_col3" class="data row5 col3">501</td>
<td id="T_7b167_row5_col4" class="data row5 col4">15.57</td>
<td id="T_7b167_row5_col5" class="data row5 col5">5.01</td>
</tr>
<tr class="odd">
<td id="T_7b167_level0_row6" class="row_heading level0 row6" data-quarto-table-cell-role="th"></td>
<td id="T_7b167_row6_col0" class="data row6 col0">[83463.54, 106162.09)</td>
<td id="T_7b167_row6_col1" class="data row6 col1">948</td>
<td id="T_7b167_row6_col2" class="data row6 col2">226</td>
<td id="T_7b167_row6_col3" class="data row6 col3">1174</td>
<td id="T_7b167_row6_col4" class="data row6 col4">19.25</td>
<td id="T_7b167_row6_col5" class="data row6 col5">11.74</td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="cell" data-execution_count="43">
<div class="sourceCode cell-code" id="cb41"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb41-1"><a href="#cb41-1" aria-hidden="true" tabindex="-1"></a>create_graph_bivariate_html(df_bivariate, var)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="project2_files/figure-html/cell-44-output-1.png" width="837" height="323" class="figure-img"></p>
</figure>
</div>
</div>
</div>
<hr>
</section>
<section id="credit-card-1" class="level3">
<h3 class="anchored" data-anchor-id="credit-card-1">Credit Card</h3>
<strong>Discriminância</strong>: <span style="color: #800000;"> Baixa. </span>
<ul>
<li>
O fato isolado do cliente ter ou não cartão de cŕedito, não tem forte relação com o evento de churn.
</li>
</ul>
<div class="cell" data-execution_count="44">
<div class="sourceCode cell-code" id="cb42"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb42-1"><a href="#cb42-1" aria-hidden="true" tabindex="-1"></a>var <span class="op">=</span> <span class="st">"credit_card"</span></span>
<span id="cb42-2"><a href="#cb42-2" aria-hidden="true" tabindex="-1"></a>create_table_bivariate_html(df_bivariate, var)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="44">
<style type="text/css">
#T_8658d th:not(.index_name) {
  background-color: #001820;
  color: white;
}
</style>

<table id="T_8658d" data-quarto-postprocess="true" class="table table-sm table-striped small">
<thead>
<tr class="header">
<th class="blank level0" data-quarto-table-cell-role="th">&nbsp;</th>
<th id="T_8658d_level0_col0" class="col_heading level0 col0" data-quarto-table-cell-role="th">Categoria</th>
<th id="T_8658d_level0_col1" class="col_heading level0 col1" data-quarto-table-cell-role="th">Não Churn</th>
<th id="T_8658d_level0_col2" class="col_heading level0 col2" data-quarto-table-cell-role="th">Churn</th>
<th id="T_8658d_level0_col3" class="col_heading level0 col3" data-quarto-table-cell-role="th">Total</th>
<th id="T_8658d_level0_col4" class="col_heading level0 col4" data-quarto-table-cell-role="th">% Churn</th>
<th id="T_8658d_level0_col5" class="col_heading level0 col5" data-quarto-table-cell-role="th">% Categoria</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td id="T_8658d_level0_row0" class="row_heading level0 row0" data-quarto-table-cell-role="th"></td>
<td id="T_8658d_row0_col0" class="data row0 col0">['0']</td>
<td id="T_8658d_row0_col1" class="data row0 col1">2332</td>
<td id="T_8658d_row0_col2" class="data row0 col2">613</td>
<td id="T_8658d_row0_col3" class="data row0 col3">2945</td>
<td id="T_8658d_row0_col4" class="data row0 col4">20.81</td>
<td id="T_8658d_row0_col5" class="data row0 col5">29.45</td>
</tr>
<tr class="even">
<td id="T_8658d_level0_row1" class="row_heading level0 row1" data-quarto-table-cell-role="th"></td>
<td id="T_8658d_row1_col0" class="data row1 col0">['1']</td>
<td id="T_8658d_row1_col1" class="data row1 col1">5631</td>
<td id="T_8658d_row1_col2" class="data row1 col2">1424</td>
<td id="T_8658d_row1_col3" class="data row1 col3">7055</td>
<td id="T_8658d_row1_col4" class="data row1 col4">20.18</td>
<td id="T_8658d_row1_col5" class="data row1 col5">70.55</td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="cell" data-execution_count="45">
<div class="sourceCode cell-code" id="cb43"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb43-1"><a href="#cb43-1" aria-hidden="true" tabindex="-1"></a>create_graph_bivariate_html(df_bivariate, var)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="project2_files/figure-html/cell-46-output-1.png" width="837" height="262" class="figure-img"></p>
</figure>
</div>
</div>
</div>
</section>
</section>
<section id="o-modelo-preditivo" class="level2">
<h2 class="anchored" data-anchor-id="o-modelo-preditivo">O Modelo Preditivo</h2>
<p><strong>Em desenvolvimento - Não está pronto ainda</strong></p>
<p><strong>Técnica Utilizada</strong></p>
<p>
Quanto à modelagem, um ponto deve ser enfatizado: o principal objetivo aqui é a construção de um modelo preditivo que possua um grau de interpretabilidade relativamente fácil para a área de negócios. Portanto, nosso foco é obter não apenas um modelo assertivo, mas sim um modelo com bom desempenho e de fácil entendimento. Dito isso, vamos modelar utilizando a técnica de <strong>Regressão Logística</strong>.
</p>
<p>
A regressão logística é uma técnica estatística utilizada para modelar a relação entre uma variável dependente binária (que possui apenas dois valores possíveis, geralmente 0 e 1) e uma ou mais variáveis independentes. Ela é amplamente empregada em problemas de classificação, onde o objetivo é prever a probabilidade de uma observação pertencer a uma determinada categoria.
</p>
<p>
A principal característica da regressão logística é sua capacidade de lidar com problemas de classificação binária, como por exemplo, prever se um e-mail é spam ou não, se um paciente tem uma determinada condição médica ou não, entre outros cenários onde a resposta desejada é dicotômica.
</p>
<p>
</p><p>A forma básica da regressão logística é expressa pela seguinte equação:</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="./img/regressao_logistica.png" class="img-fluid figure-img"></p>
</figure>
</div>
<p>Contextualizando a formula acima para o nosso problema, temos que:</p>
<ul>
<li>X1, X2, … Xn são as nossas features: country, gender, credit_card, active_member, producs_number, tenure, credit_score, age, balance, estimated_salary.</li>
<li>A probabilide p do evento Y = 1, é a probabilidade de ocorrência de churn.</li>
<li>Os betas B0, B1, … Bn representam os parâmetros do modelo, que pretendemos obter ao construir o modelo matemático.</li>
</ul>
<p></p>
<hr>
<p><strong>Avaliação do Modelo</strong></p>
<p>
O teste de Kolmogorov-Smirnov (KS) pode ser utilizado como uma métrica para avaliar a qualidade de modelos de classificação, especialmente em problemas de classificação binária. Nesse contexto, o KS é frequentemente empregado para avaliar a capacidade do modelo em distinguir entre as classes positiva e negativa.
</p>
<p>
A abordagem mais comum envolve a geração de pontuações (scores) ou probabilidades de predição para as instâncias de ambas as classes pelo modelo. Em seguida, o teste de Kolmogorov-Smirnov é aplicado às distribuições cumulativas dessas pontuações para as duas classes. O objetivo é verificar se há uma diferença significativa entre as distribuições cumulativas das classes positiva e negativa.
</p>
<p>
Quanto maior for a diferença entre as distribuições cumulativas, maior será o valor de KS e, consequentemente, mais eficiente será o modelo, ou seja, mais capaz de classificar corretamente o que é churn e o que não é churn.
</p>
<hr>
<p><strong>Obtendo o melhor modelo</strong></p>
<p>
A partir das 10 variáveis preditoras disponíveis, foram testadas todas as combinações possíveis, selecionando de 5 a 10 variáveis por vez. Dessa forma, examinamos 638 modelos de regressão logística, avaliando o valor de KS para cada modelo nos dados de teste. Optamos pelo modelo que apresentou o maior valor de KS e o menor número de variáveis preditoras que parecem ser mais relevantes para o negócio.
</p>
<p>
</p><p>Portanto, o modelo selecionado foi o que apresentou KS = 0.36 e possui as seguintes variáveis preditoras:</p>
<ul>
<li>‘products_number’</li>
<li>‘country’</li>
<li>‘gender’</li>
<li>‘credit_card’</li>
<li>‘active_member’</li>
</ul>
<p></p>
<p>
Representação gráfica do cálculo do KS nos dados de teste para o modelo selecionado.
</p>
<div class="cell" data-execution_count="47">
<div class="sourceCode cell-code" id="cb44"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb44-1"><a href="#cb44-1" aria-hidden="true" tabindex="-1"></a>seed          <span class="op">=</span> <span class="dv">100</span></span>
<span id="cb44-2"><a href="#cb44-2" aria-hidden="true" tabindex="-1"></a>X             <span class="op">=</span> df[[<span class="st">'products_number'</span>, <span class="st">'country'</span>, <span class="st">'gender'</span>, <span class="st">'credit_card'</span>, <span class="st">'active_member'</span>]].copy()</span>
<span id="cb44-3"><a href="#cb44-3" aria-hidden="true" tabindex="-1"></a>y             <span class="op">=</span> df[target_variable].copy()</span>
<span id="cb44-4"><a href="#cb44-4" aria-hidden="true" tabindex="-1"></a>original_cols <span class="op">=</span> X.columns</span>
<span id="cb44-5"><a href="#cb44-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb44-6"><a href="#cb44-6" aria-hidden="true" tabindex="-1"></a><span class="co"># Split</span></span>
<span id="cb44-7"><a href="#cb44-7" aria-hidden="true" tabindex="-1"></a>X_train, X_test, y_train, y_test <span class="op">=</span> train_test_split(X, y, test_size<span class="op">=</span><span class="fl">0.20</span>, random_state<span class="op">=</span>seed)</span>
<span id="cb44-8"><a href="#cb44-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb44-9"><a href="#cb44-9" aria-hidden="true" tabindex="-1"></a><span class="co"># ----------------------------------- Binnings --------------------------------</span></span>
<span id="cb44-10"><a href="#cb44-10" aria-hidden="true" tabindex="-1"></a>df_train <span class="op">=</span> pd.merge(X_train,</span>
<span id="cb44-11"><a href="#cb44-11" aria-hidden="true" tabindex="-1"></a>                    y_train, </span>
<span id="cb44-12"><a href="#cb44-12" aria-hidden="true" tabindex="-1"></a>                    how         <span class="op">=</span> <span class="st">"left"</span>, </span>
<span id="cb44-13"><a href="#cb44-13" aria-hidden="true" tabindex="-1"></a>                    left_index  <span class="op">=</span> <span class="va">True</span>, </span>
<span id="cb44-14"><a href="#cb44-14" aria-hidden="true" tabindex="-1"></a>                    right_index <span class="op">=</span> <span class="va">True</span>,</span>
<span id="cb44-15"><a href="#cb44-15" aria-hidden="true" tabindex="-1"></a>                    validate    <span class="op">=</span> <span class="st">"one_to_one"</span>)</span>
<span id="cb44-16"><a href="#cb44-16" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb44-17"><a href="#cb44-17" aria-hidden="true" tabindex="-1"></a>df_test <span class="op">=</span> pd.merge(X_test,</span>
<span id="cb44-18"><a href="#cb44-18" aria-hidden="true" tabindex="-1"></a>                   y_test, </span>
<span id="cb44-19"><a href="#cb44-19" aria-hidden="true" tabindex="-1"></a>                   how         <span class="op">=</span> <span class="st">"left"</span>, </span>
<span id="cb44-20"><a href="#cb44-20" aria-hidden="true" tabindex="-1"></a>                   left_index  <span class="op">=</span> <span class="va">True</span>, </span>
<span id="cb44-21"><a href="#cb44-21" aria-hidden="true" tabindex="-1"></a>                   right_index <span class="op">=</span> <span class="va">True</span>,</span>
<span id="cb44-22"><a href="#cb44-22" aria-hidden="true" tabindex="-1"></a>                   validate    <span class="op">=</span> <span class="st">"one_to_one"</span>)</span>
<span id="cb44-23"><a href="#cb44-23" aria-hidden="true" tabindex="-1"></a>            </span>
<span id="cb44-24"><a href="#cb44-24" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb44-25"><a href="#cb44-25" aria-hidden="true" tabindex="-1"></a>df_train <span class="op">=</span> binning_to_model(</span>
<span id="cb44-26"><a href="#cb44-26" aria-hidden="true" tabindex="-1"></a>    df_train,</span>
<span id="cb44-27"><a href="#cb44-27" aria-hidden="true" tabindex="-1"></a>    <span class="bu">list</span>(df_train.columns[df_train.columns.isin(numerical_variables)]),</span>
<span id="cb44-28"><a href="#cb44-28" aria-hidden="true" tabindex="-1"></a>    <span class="bu">list</span>(df_train.columns[df_train.columns.isin(categorical_variables)]),</span>
<span id="cb44-29"><a href="#cb44-29" aria-hidden="true" tabindex="-1"></a>    target_variable).reset_index(drop <span class="op">=</span> <span class="va">True</span>)</span>
<span id="cb44-30"><a href="#cb44-30" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb44-31"><a href="#cb44-31" aria-hidden="true" tabindex="-1"></a>df_test <span class="op">=</span> binning_to_model(</span>
<span id="cb44-32"><a href="#cb44-32" aria-hidden="true" tabindex="-1"></a>    df_test,</span>
<span id="cb44-33"><a href="#cb44-33" aria-hidden="true" tabindex="-1"></a>    <span class="bu">list</span>(df_test.columns[df_test.columns.isin(numerical_variables)]),</span>
<span id="cb44-34"><a href="#cb44-34" aria-hidden="true" tabindex="-1"></a>    <span class="bu">list</span>(df_test.columns[df_test.columns.isin(categorical_variables)]),</span>
<span id="cb44-35"><a href="#cb44-35" aria-hidden="true" tabindex="-1"></a>    target_variable).reset_index(drop <span class="op">=</span> <span class="va">True</span>)</span>
<span id="cb44-36"><a href="#cb44-36" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb44-37"><a href="#cb44-37" aria-hidden="true" tabindex="-1"></a>X_train  <span class="op">=</span> df_train.drop(target_variable, axis<span class="op">=</span><span class="dv">1</span>).copy()</span>
<span id="cb44-38"><a href="#cb44-38" aria-hidden="true" tabindex="-1"></a>y_train  <span class="op">=</span> df_train[target_variable].copy()</span>
<span id="cb44-39"><a href="#cb44-39" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb44-40"><a href="#cb44-40" aria-hidden="true" tabindex="-1"></a>X_test  <span class="op">=</span> df_test.drop(target_variable, axis<span class="op">=</span><span class="dv">1</span>).copy()</span>
<span id="cb44-41"><a href="#cb44-41" aria-hidden="true" tabindex="-1"></a>y_test  <span class="op">=</span> df_test[target_variable].copy()</span>
<span id="cb44-42"><a href="#cb44-42" aria-hidden="true" tabindex="-1"></a> </span>
<span id="cb44-43"><a href="#cb44-43" aria-hidden="true" tabindex="-1"></a><span class="co"># -----------------------------------------------------------------------------</span></span>
<span id="cb44-44"><a href="#cb44-44" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb44-45"><a href="#cb44-45" aria-hidden="true" tabindex="-1"></a><span class="co"># One-hot Encoding</span></span>
<span id="cb44-46"><a href="#cb44-46" aria-hidden="true" tabindex="-1"></a>enc <span class="op">=</span> OneHotEncoder(handle_unknown<span class="op">=</span><span class="st">'ignore'</span>, drop <span class="op">=</span> <span class="st">'first'</span>)</span>
<span id="cb44-47"><a href="#cb44-47" aria-hidden="true" tabindex="-1"></a>enc.fit(X_train.astype(<span class="bu">str</span>))</span>
<span id="cb44-48"><a href="#cb44-48" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb44-49"><a href="#cb44-49" aria-hidden="true" tabindex="-1"></a>colnames <span class="op">=</span> enc.get_feature_names_out()</span>
<span id="cb44-50"><a href="#cb44-50" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb44-51"><a href="#cb44-51" aria-hidden="true" tabindex="-1"></a><span class="co"># train</span></span>
<span id="cb44-52"><a href="#cb44-52" aria-hidden="true" tabindex="-1"></a>transformed <span class="op">=</span> enc.transform(X_train.astype(<span class="bu">str</span>)).toarray()</span>
<span id="cb44-53"><a href="#cb44-53" aria-hidden="true" tabindex="-1"></a>df_cat_vars <span class="op">=</span> pd.DataFrame(columns<span class="op">=</span>colnames, data<span class="op">=</span>transformed)</span>
<span id="cb44-54"><a href="#cb44-54" aria-hidden="true" tabindex="-1"></a>X_train <span class="op">=</span> pd.concat([X_train, df_cat_vars], axis<span class="op">=</span><span class="dv">1</span>)</span>
<span id="cb44-55"><a href="#cb44-55" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb44-56"><a href="#cb44-56" aria-hidden="true" tabindex="-1"></a><span class="co"># test</span></span>
<span id="cb44-57"><a href="#cb44-57" aria-hidden="true" tabindex="-1"></a>transformed <span class="op">=</span> enc.transform(X_test.astype(<span class="bu">str</span>)).toarray()</span>
<span id="cb44-58"><a href="#cb44-58" aria-hidden="true" tabindex="-1"></a>df_cat_vars <span class="op">=</span> pd.DataFrame(columns<span class="op">=</span>colnames, data<span class="op">=</span>transformed)</span>
<span id="cb44-59"><a href="#cb44-59" aria-hidden="true" tabindex="-1"></a>X_test <span class="op">=</span> pd.concat([X_test, df_cat_vars], axis<span class="op">=</span><span class="dv">1</span>)</span>
<span id="cb44-60"><a href="#cb44-60" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb44-61"><a href="#cb44-61" aria-hidden="true" tabindex="-1"></a><span class="co"># Remocao das variáveis categoricas sem codificação</span></span>
<span id="cb44-62"><a href="#cb44-62" aria-hidden="true" tabindex="-1"></a>X_train.drop(original_cols, axis<span class="op">=</span><span class="dv">1</span>, inplace <span class="op">=</span> <span class="va">True</span>)</span>
<span id="cb44-63"><a href="#cb44-63" aria-hidden="true" tabindex="-1"></a>X_test.drop(original_cols, axis<span class="op">=</span><span class="dv">1</span>, inplace <span class="op">=</span> <span class="va">True</span>)</span>
<span id="cb44-64"><a href="#cb44-64" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb44-65"><a href="#cb44-65" aria-hidden="true" tabindex="-1"></a><span class="co"># Treino</span></span>
<span id="cb44-66"><a href="#cb44-66" aria-hidden="true" tabindex="-1"></a>clf <span class="op">=</span> LogisticRegression()</span>
<span id="cb44-67"><a href="#cb44-67" aria-hidden="true" tabindex="-1"></a>clf.fit(X_train, y_train)</span>
<span id="cb44-68"><a href="#cb44-68" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb44-69"><a href="#cb44-69" aria-hidden="true" tabindex="-1"></a><span class="co">#nos_train = create_ks_table_for_logistic_regression(clf, X_train, y_train)</span></span>
<span id="cb44-70"><a href="#cb44-70" aria-hidden="true" tabindex="-1"></a>nos_test  <span class="op">=</span> create_ks_table_for_logistic_regression(clf, X_test, y_test)</span>
<span id="cb44-71"><a href="#cb44-71" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb44-72"><a href="#cb44-72" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb44-73"><a href="#cb44-73" aria-hidden="true" tabindex="-1"></a>y_pred <span class="op">=</span> np.<span class="bu">round</span>(clf.predict_proba(X_test)[:, <span class="dv">1</span>], <span class="dv">2</span>)</span>
<span id="cb44-74"><a href="#cb44-74" aria-hidden="true" tabindex="-1"></a>y_pred <span class="op">=</span> np.where(y_pred <span class="op">&gt;=</span> <span class="fl">0.19</span>, <span class="dv">1</span>, <span class="dv">0</span>)</span>
<span id="cb44-75"><a href="#cb44-75" aria-hidden="true" tabindex="-1"></a> </span>
<span id="cb44-76"><a href="#cb44-76" aria-hidden="true" tabindex="-1"></a>y_test <span class="op">=</span> np.where(y_test <span class="op">==</span> <span class="dv">1</span>, <span class="st">"Churn"</span>, <span class="st">"Não-Churn"</span>)</span>
<span id="cb44-77"><a href="#cb44-77" aria-hidden="true" tabindex="-1"></a>y_pred <span class="op">=</span> np.where(y_pred <span class="op">==</span> <span class="dv">1</span>, <span class="st">"Churn"</span>, <span class="st">"Não-Churn"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="project2_files/figure-html/cell-48-output-1.png" width="586" height="446" class="figure-img"></p>
</figure>
</div>
</div>
</div>
<p><strong>Faixas de operação do modelo selecionado</strong></p>
<p>
A tabela abaixo apresenta todas as possíveis faixas de operação do modelo selecionado a qual foi aplicada na base de testes. Do ponto de vista técnico, a faixa 8 em destaque é considerada a faixa ótima, pois possui <strong>Sens. + Espec. - 1 = KS = 0</strong>. Isso significa que essa é a faixa com maior capacidade de classificação correta do que é <strong>Churn</strong> e <strong>Não-Churn</strong>.
</p>
<p>
</p><p>Interpretando a tabela para essa faixa, temos que:</p>
<p><strong>Prob = 19%</strong>: Significa que, se a probabilidade de ocorrência do churn for maior ou igual a 19%, o modelo classificará como churn.</p>
<p><strong>% Total acumulado = 40%</strong>: Significa que, dos clientes que o algoritmo avaliar, ele classificará 40% como churn.</p>
<p><strong>Tx. classificados como 1 corretamente = 35%</strong>: Significa que, dos clientes que o algoritmo classificar como churn, 35% realmente realizariam churn, enquanto os outros 65% não realizariam.</p>
<p><strong>Tx. classificados como 0 corretamente = 89%</strong>: Significa que, dos clientes que o algoritmo classificar como Não-Churn, 89% realmente não realizariam churn, enquanto os outros 11% realizariam.</p>
<p><strong>Sens. = 68%</strong>: É a sensibilidade. Significa que, de todos os casos de churn, o modelo será capaz de classificar corretamente 68% deles, enquanto os outros 32% serão classificados como Não-Churn.</p>
<p><strong>Espec. = 67%</strong>: É a especificidade. Significa que, de todos os casos de Não-churn, o modelo será capaz de classificar corretamente 67% deles, enquanto os outros 33% serão classificados como Churn.</p>
<p><strong>Sens. + Espec. - 1 = 0.36</strong>: Utilizado para calcular o valor aproximado de KS e comparar com o KS obtido no gráfico acima.</p>
<strong>Acurácia</strong>: De todos os clientes avaliados pelo algoritmo, o percentual de acertos, incluindo churn e não churn, é de 67%.
<p></p>
<div class="cell" data-execution_count="48">
<div class="sourceCode cell-code" id="cb45"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb45-1"><a href="#cb45-1" aria-hidden="true" tabindex="-1"></a>nos_test.drop([<span class="st">"Evento acumulado"</span>, <span class="st">"Nao-evento acumulado"</span>, <span class="st">"Ganho 1's"</span>,<span class="st">"Ganho 0's"</span>], axis <span class="op">=</span> <span class="dv">1</span>, inplace <span class="op">=</span> <span class="va">True</span>)</span>
<span id="cb45-2"><a href="#cb45-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb45-3"><a href="#cb45-3" aria-hidden="true" tabindex="-1"></a>COLOR           <span class="op">=</span> <span class="st">"#001820"</span></span>
<span id="cb45-4"><a href="#cb45-4" aria-hidden="true" tabindex="-1"></a>df              <span class="op">=</span> nos_test</span>
<span id="cb45-5"><a href="#cb45-5" aria-hidden="true" tabindex="-1"></a>cols_to_percent <span class="op">=</span> [</span>
<span id="cb45-6"><a href="#cb45-6" aria-hidden="true" tabindex="-1"></a>  <span class="st">"Prob"</span>,</span>
<span id="cb45-7"><a href="#cb45-7" aria-hidden="true" tabindex="-1"></a>  <span class="st">"% Total acumulado"</span>,</span>
<span id="cb45-8"><a href="#cb45-8" aria-hidden="true" tabindex="-1"></a>  <span class="st">"Tx. classificados como 1 corretamente"</span>,</span>
<span id="cb45-9"><a href="#cb45-9" aria-hidden="true" tabindex="-1"></a>  <span class="st">"Tx. classificados como 0 corretamente"</span>, </span>
<span id="cb45-10"><a href="#cb45-10" aria-hidden="true" tabindex="-1"></a>  <span class="st">"Sens."</span>, </span>
<span id="cb45-11"><a href="#cb45-11" aria-hidden="true" tabindex="-1"></a>  <span class="st">"Espec."</span>,</span>
<span id="cb45-12"><a href="#cb45-12" aria-hidden="true" tabindex="-1"></a>  <span class="st">"Acurácia"</span>, </span>
<span id="cb45-13"><a href="#cb45-13" aria-hidden="true" tabindex="-1"></a>  ]</span>
<span id="cb45-14"><a href="#cb45-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb45-15"><a href="#cb45-15" aria-hidden="true" tabindex="-1"></a>cols_to_float <span class="op">=</span> [<span class="st">"Sens. + Espec. - 1"</span>]</span>
<span id="cb45-16"><a href="#cb45-16" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb45-17"><a href="#cb45-17" aria-hidden="true" tabindex="-1"></a>df_styled <span class="op">=</span> (</span>
<span id="cb45-18"><a href="#cb45-18" aria-hidden="true" tabindex="-1"></a>    df.style</span>
<span id="cb45-19"><a href="#cb45-19" aria-hidden="true" tabindex="-1"></a>        <span class="co"># Cor do header e index</span></span>
<span id="cb45-20"><a href="#cb45-20" aria-hidden="true" tabindex="-1"></a>        .set_table_styles([{</span>
<span id="cb45-21"><a href="#cb45-21" aria-hidden="true" tabindex="-1"></a>            <span class="st">'selector'</span>: <span class="st">'th:not(.index_name)'</span>,</span>
<span id="cb45-22"><a href="#cb45-22" aria-hidden="true" tabindex="-1"></a>            <span class="st">'props'</span>: <span class="ss">f'background-color: </span><span class="sc">{</span>COLOR<span class="sc">}</span><span class="ss">; color: white; text-align: center;'</span></span>
<span id="cb45-23"><a href="#cb45-23" aria-hidden="true" tabindex="-1"></a>        }]) </span>
<span id="cb45-24"><a href="#cb45-24" aria-hidden="true" tabindex="-1"></a>        .set_properties(</span>
<span id="cb45-25"><a href="#cb45-25" aria-hidden="true" tabindex="-1"></a>          <span class="op">**</span>{<span class="st">'text-align'</span>: <span class="st">"center"</span>})</span>
<span id="cb45-26"><a href="#cb45-26" aria-hidden="true" tabindex="-1"></a>        .set_properties(</span>
<span id="cb45-27"><a href="#cb45-27" aria-hidden="true" tabindex="-1"></a>            subset <span class="op">=</span> ([<span class="dv">7</span>],) ,</span>
<span id="cb45-28"><a href="#cb45-28" aria-hidden="true" tabindex="-1"></a>            <span class="op">**</span>{<span class="st">'background-color'</span>: <span class="st">"#C5D9F1"</span>,</span>
<span id="cb45-29"><a href="#cb45-29" aria-hidden="true" tabindex="-1"></a>                <span class="st">'color'</span>          : <span class="st">"black"</span>,</span>
<span id="cb45-30"><a href="#cb45-30" aria-hidden="true" tabindex="-1"></a>                <span class="st">'font-weight'</span>    : <span class="st">"bold"</span>,</span>
<span id="cb45-31"><a href="#cb45-31" aria-hidden="true" tabindex="-1"></a>                <span class="st">'text-align'</span>     : <span class="st">"center"</span></span>
<span id="cb45-32"><a href="#cb45-32" aria-hidden="true" tabindex="-1"></a>              })</span>
<span id="cb45-33"><a href="#cb45-33" aria-hidden="true" tabindex="-1"></a>        .<span class="bu">format</span>(<span class="st">'</span><span class="sc">{:.0%}</span><span class="st">'</span>, subset<span class="op">=</span> cols_to_percent) </span>
<span id="cb45-34"><a href="#cb45-34" aria-hidden="true" tabindex="-1"></a>        .<span class="bu">format</span>(<span class="st">'</span><span class="sc">{:.2f}</span><span class="st">'</span>, subset<span class="op">=</span> cols_to_float) </span>
<span id="cb45-35"><a href="#cb45-35" aria-hidden="true" tabindex="-1"></a>        .hide(axis<span class="op">=</span><span class="st">"index"</span>)</span>
<span id="cb45-36"><a href="#cb45-36" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb45-37"><a href="#cb45-37" aria-hidden="true" tabindex="-1"></a>df_styled</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="48">
<style type="text/css">
#T_a6f25 th:not(.index_name) {
  background-color: #001820;
  color: white;
  text-align: center;
}
#T_a6f25_row0_col0, #T_a6f25_row0_col1, #T_a6f25_row0_col2, #T_a6f25_row0_col3, #T_a6f25_row0_col4, #T_a6f25_row0_col5, #T_a6f25_row0_col6, #T_a6f25_row0_col7, #T_a6f25_row0_col8, #T_a6f25_row1_col0, #T_a6f25_row1_col1, #T_a6f25_row1_col2, #T_a6f25_row1_col3, #T_a6f25_row1_col4, #T_a6f25_row1_col5, #T_a6f25_row1_col6, #T_a6f25_row1_col7, #T_a6f25_row1_col8, #T_a6f25_row2_col0, #T_a6f25_row2_col1, #T_a6f25_row2_col2, #T_a6f25_row2_col3, #T_a6f25_row2_col4, #T_a6f25_row2_col5, #T_a6f25_row2_col6, #T_a6f25_row2_col7, #T_a6f25_row2_col8, #T_a6f25_row3_col0, #T_a6f25_row3_col1, #T_a6f25_row3_col2, #T_a6f25_row3_col3, #T_a6f25_row3_col4, #T_a6f25_row3_col5, #T_a6f25_row3_col6, #T_a6f25_row3_col7, #T_a6f25_row3_col8, #T_a6f25_row4_col0, #T_a6f25_row4_col1, #T_a6f25_row4_col2, #T_a6f25_row4_col3, #T_a6f25_row4_col4, #T_a6f25_row4_col5, #T_a6f25_row4_col6, #T_a6f25_row4_col7, #T_a6f25_row4_col8, #T_a6f25_row5_col0, #T_a6f25_row5_col1, #T_a6f25_row5_col2, #T_a6f25_row5_col3, #T_a6f25_row5_col4, #T_a6f25_row5_col5, #T_a6f25_row5_col6, #T_a6f25_row5_col7, #T_a6f25_row5_col8, #T_a6f25_row6_col0, #T_a6f25_row6_col1, #T_a6f25_row6_col2, #T_a6f25_row6_col3, #T_a6f25_row6_col4, #T_a6f25_row6_col5, #T_a6f25_row6_col6, #T_a6f25_row6_col7, #T_a6f25_row6_col8, #T_a6f25_row8_col0, #T_a6f25_row8_col1, #T_a6f25_row8_col2, #T_a6f25_row8_col3, #T_a6f25_row8_col4, #T_a6f25_row8_col5, #T_a6f25_row8_col6, #T_a6f25_row8_col7, #T_a6f25_row8_col8, #T_a6f25_row9_col0, #T_a6f25_row9_col1, #T_a6f25_row9_col2, #T_a6f25_row9_col3, #T_a6f25_row9_col4, #T_a6f25_row9_col5, #T_a6f25_row9_col6, #T_a6f25_row9_col7, #T_a6f25_row9_col8, #T_a6f25_row10_col0, #T_a6f25_row10_col1, #T_a6f25_row10_col2, #T_a6f25_row10_col3, #T_a6f25_row10_col4, #T_a6f25_row10_col5, #T_a6f25_row10_col6, #T_a6f25_row10_col7, #T_a6f25_row10_col8, #T_a6f25_row11_col0, #T_a6f25_row11_col1, #T_a6f25_row11_col2, #T_a6f25_row11_col3, #T_a6f25_row11_col4, #T_a6f25_row11_col5, #T_a6f25_row11_col6, #T_a6f25_row11_col7, #T_a6f25_row11_col8, #T_a6f25_row12_col0, #T_a6f25_row12_col1, #T_a6f25_row12_col2, #T_a6f25_row12_col3, #T_a6f25_row12_col4, #T_a6f25_row12_col5, #T_a6f25_row12_col6, #T_a6f25_row12_col7, #T_a6f25_row12_col8, #T_a6f25_row13_col0, #T_a6f25_row13_col1, #T_a6f25_row13_col2, #T_a6f25_row13_col3, #T_a6f25_row13_col4, #T_a6f25_row13_col5, #T_a6f25_row13_col6, #T_a6f25_row13_col7, #T_a6f25_row13_col8, #T_a6f25_row14_col0, #T_a6f25_row14_col1, #T_a6f25_row14_col2, #T_a6f25_row14_col3, #T_a6f25_row14_col4, #T_a6f25_row14_col5, #T_a6f25_row14_col6, #T_a6f25_row14_col7, #T_a6f25_row14_col8, #T_a6f25_row15_col0, #T_a6f25_row15_col1, #T_a6f25_row15_col2, #T_a6f25_row15_col3, #T_a6f25_row15_col4, #T_a6f25_row15_col5, #T_a6f25_row15_col6, #T_a6f25_row15_col7, #T_a6f25_row15_col8, #T_a6f25_row16_col0, #T_a6f25_row16_col1, #T_a6f25_row16_col2, #T_a6f25_row16_col3, #T_a6f25_row16_col4, #T_a6f25_row16_col5, #T_a6f25_row16_col6, #T_a6f25_row16_col7, #T_a6f25_row16_col8, #T_a6f25_row17_col0, #T_a6f25_row17_col1, #T_a6f25_row17_col2, #T_a6f25_row17_col3, #T_a6f25_row17_col4, #T_a6f25_row17_col5, #T_a6f25_row17_col6, #T_a6f25_row17_col7, #T_a6f25_row17_col8, #T_a6f25_row18_col0, #T_a6f25_row18_col1, #T_a6f25_row18_col2, #T_a6f25_row18_col3, #T_a6f25_row18_col4, #T_a6f25_row18_col5, #T_a6f25_row18_col6, #T_a6f25_row18_col7, #T_a6f25_row18_col8 {
  text-align: center;
}
#T_a6f25_row7_col0, #T_a6f25_row7_col1, #T_a6f25_row7_col2, #T_a6f25_row7_col3, #T_a6f25_row7_col4, #T_a6f25_row7_col5, #T_a6f25_row7_col6, #T_a6f25_row7_col7, #T_a6f25_row7_col8 {
  text-align: center;
  background-color: #C5D9F1;
  color: black;
  font-weight: bold;
  text-align: center;
}
</style>

<table id="T_a6f25" data-quarto-postprocess="true" class="table table-sm table-striped small">
<thead>
<tr class="header">
<th id="T_a6f25_level0_col0" class="col_heading level0 col0" data-quarto-table-cell-role="th">Faixa</th>
<th id="T_a6f25_level0_col1" class="col_heading level0 col1" data-quarto-table-cell-role="th">Prob</th>
<th id="T_a6f25_level0_col2" class="col_heading level0 col2" data-quarto-table-cell-role="th">% Total acumulado</th>
<th id="T_a6f25_level0_col3" class="col_heading level0 col3" data-quarto-table-cell-role="th">Tx. classificados como 1 corretamente</th>
<th id="T_a6f25_level0_col4" class="col_heading level0 col4" data-quarto-table-cell-role="th">Tx. classificados como 0 corretamente</th>
<th id="T_a6f25_level0_col5" class="col_heading level0 col5" data-quarto-table-cell-role="th">Sens.</th>
<th id="T_a6f25_level0_col6" class="col_heading level0 col6" data-quarto-table-cell-role="th">Espec.</th>
<th id="T_a6f25_level0_col7" class="col_heading level0 col7" data-quarto-table-cell-role="th">Sens. + Espec. - 1</th>
<th id="T_a6f25_level0_col8" class="col_heading level0 col8" data-quarto-table-cell-role="th">Acurácia</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td id="T_a6f25_row0_col0" class="data row0 col0">1</td>
<td id="T_a6f25_row0_col1" class="data row0 col1">44%</td>
<td id="T_a6f25_row0_col2" class="data row0 col2">5%</td>
<td id="T_a6f25_row0_col3" class="data row0 col3">49%</td>
<td id="T_a6f25_row0_col4" class="data row0 col4">81%</td>
<td id="T_a6f25_row0_col5" class="data row0 col5">12%</td>
<td id="T_a6f25_row0_col6" class="data row0 col6">97%</td>
<td id="T_a6f25_row0_col7" class="data row0 col7">0.09</td>
<td id="T_a6f25_row0_col8" class="data row0 col8">79%</td>
</tr>
<tr class="even">
<td id="T_a6f25_row1_col0" class="data row1 col0">2</td>
<td id="T_a6f25_row1_col1" class="data row1 col1">38%</td>
<td id="T_a6f25_row1_col2" class="data row1 col2">10%</td>
<td id="T_a6f25_row1_col3" class="data row1 col3">47%</td>
<td id="T_a6f25_row1_col4" class="data row1 col4">82%</td>
<td id="T_a6f25_row1_col5" class="data row1 col5">23%</td>
<td id="T_a6f25_row1_col6" class="data row1 col6">93%</td>
<td id="T_a6f25_row1_col7" class="data row1 col7">0.16</td>
<td id="T_a6f25_row1_col8" class="data row1 col8">79%</td>
</tr>
<tr class="odd">
<td id="T_a6f25_row2_col0" class="data row2 col0">3</td>
<td id="T_a6f25_row2_col1" class="data row2 col1">34%</td>
<td id="T_a6f25_row2_col2" class="data row2 col2">16%</td>
<td id="T_a6f25_row2_col3" class="data row2 col3">42%</td>
<td id="T_a6f25_row2_col4" class="data row2 col4">84%</td>
<td id="T_a6f25_row2_col5" class="data row2 col5">34%</td>
<td id="T_a6f25_row2_col6" class="data row2 col6">88%</td>
<td id="T_a6f25_row2_col7" class="data row2 col7">0.22</td>
<td id="T_a6f25_row2_col8" class="data row2 col8">77%</td>
</tr>
<tr class="even">
<td id="T_a6f25_row3_col0" class="data row3 col0">4</td>
<td id="T_a6f25_row3_col1" class="data row3 col1">34%</td>
<td id="T_a6f25_row3_col2" class="data row3 col2">20%</td>
<td id="T_a6f25_row3_col3" class="data row3 col3">43%</td>
<td id="T_a6f25_row3_col4" class="data row3 col4">85%</td>
<td id="T_a6f25_row3_col5" class="data row3 col5">43%</td>
<td id="T_a6f25_row3_col6" class="data row3 col6">86%</td>
<td id="T_a6f25_row3_col7" class="data row3 col7">0.28</td>
<td id="T_a6f25_row3_col8" class="data row3 col8">77%</td>
</tr>
<tr class="odd">
<td id="T_a6f25_row4_col0" class="data row4 col0">5</td>
<td id="T_a6f25_row4_col1" class="data row4 col1">26%</td>
<td id="T_a6f25_row4_col2" class="data row4 col2">26%</td>
<td id="T_a6f25_row4_col3" class="data row4 col3">39%</td>
<td id="T_a6f25_row4_col4" class="data row4 col4">86%</td>
<td id="T_a6f25_row4_col5" class="data row4 col5">51%</td>
<td id="T_a6f25_row4_col6" class="data row4 col6">80%</td>
<td id="T_a6f25_row4_col7" class="data row4 col7">0.31</td>
<td id="T_a6f25_row4_col8" class="data row4 col8">74%</td>
</tr>
<tr class="even">
<td id="T_a6f25_row5_col0" class="data row5 col0">6</td>
<td id="T_a6f25_row5_col1" class="data row5 col1">23%</td>
<td id="T_a6f25_row5_col2" class="data row5 col2">31%</td>
<td id="T_a6f25_row5_col3" class="data row5 col3">37%</td>
<td id="T_a6f25_row5_col4" class="data row5 col4">87%</td>
<td id="T_a6f25_row5_col5" class="data row5 col5">56%</td>
<td id="T_a6f25_row5_col6" class="data row5 col6">75%</td>
<td id="T_a6f25_row5_col7" class="data row5 col7">0.31</td>
<td id="T_a6f25_row5_col8" class="data row5 col8">71%</td>
</tr>
<tr class="odd">
<td id="T_a6f25_row6_col0" class="data row6 col0">7</td>
<td id="T_a6f25_row6_col1" class="data row6 col1">23%</td>
<td id="T_a6f25_row6_col2" class="data row6 col2">36%</td>
<td id="T_a6f25_row6_col3" class="data row6 col3">36%</td>
<td id="T_a6f25_row6_col4" class="data row6 col4">88%</td>
<td id="T_a6f25_row6_col5" class="data row6 col5">63%</td>
<td id="T_a6f25_row6_col6" class="data row6 col6">72%</td>
<td id="T_a6f25_row6_col7" class="data row6 col7">0.34</td>
<td id="T_a6f25_row6_col8" class="data row6 col8">70%</td>
</tr>
<tr class="even">
<td id="T_a6f25_row7_col0" class="data row7 col0">8</td>
<td id="T_a6f25_row7_col1" class="data row7 col1">19%</td>
<td id="T_a6f25_row7_col2" class="data row7 col2">40%</td>
<td id="T_a6f25_row7_col3" class="data row7 col3">35%</td>
<td id="T_a6f25_row7_col4" class="data row7 col4">89%</td>
<td id="T_a6f25_row7_col5" class="data row7 col5">68%</td>
<td id="T_a6f25_row7_col6" class="data row7 col6">67%</td>
<td id="T_a6f25_row7_col7" class="data row7 col7">0.36</td>
<td id="T_a6f25_row7_col8" class="data row7 col8">67%</td>
</tr>
<tr class="odd">
<td id="T_a6f25_row8_col0" class="data row8 col0">9</td>
<td id="T_a6f25_row8_col1" class="data row8 col1">19%</td>
<td id="T_a6f25_row8_col2" class="data row8 col2">47%</td>
<td id="T_a6f25_row8_col3" class="data row8 col3">33%</td>
<td id="T_a6f25_row8_col4" class="data row8 col4">90%</td>
<td id="T_a6f25_row8_col5" class="data row8 col5">75%</td>
<td id="T_a6f25_row8_col6" class="data row8 col6">60%</td>
<td id="T_a6f25_row8_col7" class="data row8 col7">0.35</td>
<td id="T_a6f25_row8_col8" class="data row8 col8">63%</td>
</tr>
<tr class="even">
<td id="T_a6f25_row9_col0" class="data row9 col0">10</td>
<td id="T_a6f25_row9_col1" class="data row9 col1">17%</td>
<td id="T_a6f25_row9_col2" class="data row9 col2">51%</td>
<td id="T_a6f25_row9_col3" class="data row9 col3">31%</td>
<td id="T_a6f25_row9_col4" class="data row9 col4">90%</td>
<td id="T_a6f25_row9_col5" class="data row9 col5">77%</td>
<td id="T_a6f25_row9_col6" class="data row9 col6">56%</td>
<td id="T_a6f25_row9_col7" class="data row9 col7">0.33</td>
<td id="T_a6f25_row9_col8" class="data row9 col8">60%</td>
</tr>
<tr class="odd">
<td id="T_a6f25_row10_col0" class="data row10 col0">11</td>
<td id="T_a6f25_row10_col1" class="data row10 col1">14%</td>
<td id="T_a6f25_row10_col2" class="data row10 col2">56%</td>
<td id="T_a6f25_row10_col3" class="data row10 col3">30%</td>
<td id="T_a6f25_row10_col4" class="data row10 col4">91%</td>
<td id="T_a6f25_row10_col5" class="data row10 col5">81%</td>
<td id="T_a6f25_row10_col6" class="data row10 col6">51%</td>
<td id="T_a6f25_row10_col7" class="data row10 col7">0.31</td>
<td id="T_a6f25_row10_col8" class="data row10 col8">57%</td>
</tr>
<tr class="even">
<td id="T_a6f25_row11_col0" class="data row11 col0">12</td>
<td id="T_a6f25_row11_col1" class="data row11 col1">13%</td>
<td id="T_a6f25_row11_col2" class="data row11 col2">60%</td>
<td id="T_a6f25_row11_col3" class="data row11 col3">28%</td>
<td id="T_a6f25_row11_col4" class="data row11 col4">91%</td>
<td id="T_a6f25_row11_col5" class="data row11 col5">82%</td>
<td id="T_a6f25_row11_col6" class="data row11 col6">46%</td>
<td id="T_a6f25_row11_col7" class="data row11 col7">0.28</td>
<td id="T_a6f25_row11_col8" class="data row11 col8">53%</td>
</tr>
<tr class="odd">
<td id="T_a6f25_row12_col0" class="data row12 col0">13</td>
<td id="T_a6f25_row12_col1" class="data row12 col1">12%</td>
<td id="T_a6f25_row12_col2" class="data row12 col2">65%</td>
<td id="T_a6f25_row12_col3" class="data row12 col3">27%</td>
<td id="T_a6f25_row12_col4" class="data row12 col4">91%</td>
<td id="T_a6f25_row12_col5" class="data row12 col5">84%</td>
<td id="T_a6f25_row12_col6" class="data row12 col6">40%</td>
<td id="T_a6f25_row12_col7" class="data row12 col7">0.24</td>
<td id="T_a6f25_row12_col8" class="data row12 col8">49%</td>
</tr>
<tr class="even">
<td id="T_a6f25_row13_col0" class="data row13 col0">14</td>
<td id="T_a6f25_row13_col1" class="data row13 col1">12%</td>
<td id="T_a6f25_row13_col2" class="data row13 col2">70%</td>
<td id="T_a6f25_row13_col3" class="data row13 col3">25%</td>
<td id="T_a6f25_row13_col4" class="data row13 col4">91%</td>
<td id="T_a6f25_row13_col5" class="data row13 col5">87%</td>
<td id="T_a6f25_row13_col6" class="data row13 col6">34%</td>
<td id="T_a6f25_row13_col7" class="data row13 col7">0.21</td>
<td id="T_a6f25_row13_col8" class="data row13 col8">45%</td>
</tr>
<tr class="odd">
<td id="T_a6f25_row14_col0" class="data row14 col0">15</td>
<td id="T_a6f25_row14_col1" class="data row14 col1">10%</td>
<td id="T_a6f25_row14_col2" class="data row14 col2">80%</td>
<td id="T_a6f25_row14_col3" class="data row14 col3">23%</td>
<td id="T_a6f25_row14_col4" class="data row14 col4">90%</td>
<td id="T_a6f25_row14_col5" class="data row14 col5">90%</td>
<td id="T_a6f25_row14_col6" class="data row14 col6">23%</td>
<td id="T_a6f25_row14_col7" class="data row14 col7">0.13</td>
<td id="T_a6f25_row14_col8" class="data row14 col8">37%</td>
</tr>
<tr class="even">
<td id="T_a6f25_row15_col0" class="data row15 col0">16</td>
<td id="T_a6f25_row15_col1" class="data row15 col1">10%</td>
<td id="T_a6f25_row15_col2" class="data row15 col2">81%</td>
<td id="T_a6f25_row15_col3" class="data row15 col3">23%</td>
<td id="T_a6f25_row15_col4" class="data row15 col4">91%</td>
<td id="T_a6f25_row15_col5" class="data row15 col5">91%</td>
<td id="T_a6f25_row15_col6" class="data row15 col6">22%</td>
<td id="T_a6f25_row15_col7" class="data row15 col7">0.13</td>
<td id="T_a6f25_row15_col8" class="data row15 col8">36%</td>
</tr>
<tr class="odd">
<td id="T_a6f25_row16_col0" class="data row16 col0">17</td>
<td id="T_a6f25_row16_col1" class="data row16 col1">8%</td>
<td id="T_a6f25_row16_col2" class="data row16 col2">89%</td>
<td id="T_a6f25_row16_col3" class="data row16 col3">22%</td>
<td id="T_a6f25_row16_col4" class="data row16 col4">92%</td>
<td id="T_a6f25_row16_col5" class="data row16 col5">96%</td>
<td id="T_a6f25_row16_col6" class="data row16 col6">13%</td>
<td id="T_a6f25_row16_col7" class="data row16 col7">0.08</td>
<td id="T_a6f25_row16_col8" class="data row16 col8">30%</td>
</tr>
<tr class="even">
<td id="T_a6f25_row17_col0" class="data row17 col0">18</td>
<td id="T_a6f25_row17_col1" class="data row17 col1">6%</td>
<td id="T_a6f25_row17_col2" class="data row17 col2">90%</td>
<td id="T_a6f25_row17_col3" class="data row17 col3">22%</td>
<td id="T_a6f25_row17_col4" class="data row17 col4">92%</td>
<td id="T_a6f25_row17_col5" class="data row17 col5">96%</td>
<td id="T_a6f25_row17_col6" class="data row17 col6">11%</td>
<td id="T_a6f25_row17_col7" class="data row17 col7">0.07</td>
<td id="T_a6f25_row17_col8" class="data row17 col8">29%</td>
</tr>
<tr class="odd">
<td id="T_a6f25_row18_col0" class="data row18 col0">19</td>
<td id="T_a6f25_row18_col1" class="data row18 col1">5%</td>
<td id="T_a6f25_row18_col2" class="data row18 col2">100%</td>
<td id="T_a6f25_row18_col3" class="data row18 col3">21%</td>
<td id="T_a6f25_row18_col4" class="data row18 col4">0%</td>
<td id="T_a6f25_row18_col5" class="data row18 col5">100%</td>
<td id="T_a6f25_row18_col6" class="data row18 col6">0%</td>
<td id="T_a6f25_row18_col7" class="data row18 col7">0.00</td>
<td id="T_a6f25_row18_col8" class="data row18 col8">21%</td>
</tr>
</tbody>
</table>
</div>
</div>
<p><strong>Conclusões Sobre o Modelo</strong></p>
<p>Mas afinal, esse modelo é bom ou ruim? Para responder a essa pergunta, devemos comparar duas situações: quando o modelo é utilizado e quando não é.</p>
<p><strong><em>Sem o modelo:</em></strong></p>
<ul>
<li><p>Sem o modelo, não temos nenhuma outra forma de identificar quais clientes estariam mais propensos ao churn e tentar alguma abordagem para resgatar a confiança deles, evitando sua fuga.</p></li>
<li><p>Isso ocorrendo, o banco teria uma redução de cerca de 20% de seus clientes.</p></li>
</ul>
<p><strong><em>Com o modelo:</em></strong></p>
<ul>
<li><p>68% dos casos possíveis de churn seriam identificados previamente, enquanto os demais 32% não seriam identificados.</p></li>
<li><p>Supondo que um plano de ação seja capaz de impedir o churn de todos os possíveis churn identificados (os 68%), o banco teria uma redução em sua carteira de clientes de apenas 6,4% (32% dos churns, os quais não foram identificados pelo modelo).</p></li>
<li><p>Obviamente, os erros do modelo em classificar Não-churn como churn também geram custos para o banco, pois ele gastará dinheiro para resgatar um cliente que, de fato, não corria risco de perda. Isso ocorrerá em 65% dos casos em que o modelo classificar como churn. De fato, 40% de todos os clientes serão classificados como churn pelo modelo, sendo que apenas 35% desse público realizaria o churn. A questão é que o modelo adota uma postura muito conservadora, onde a perda do cliente é considerada algo muito mais severo do que o gasto com programas para evitar o churn. Por isso, se a probabilidade de ocorrência do churn for maior ou superior a 19%, o modelo prefere recomendar uma ação do banco para tentar evitar a fuga desse cliente.</p></li>
<li><p>Diante do exposto anteriormente, podemos afirmar que o modelo tem uma boa performance. No entanto, a decisão final de utilizá-lo ou não viria após uma análise de ganho financeiro, comparando o seu uso com a não utilização.</p></li>
</ul>


</section>
</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->
<footer class="footer">
  <div class="nav-footer">
    <div class="nav-footer-left">
      &nbsp;
    </div>   
    <div class="nav-footer-center">Copyright 2024</div>
    <div class="nav-footer-right">
      &nbsp;
    </div>
  </div>
</footer>



</body></html>